{"version":3,"sources":["webpack:///./src/components/screens/setting/media.vue?c84f","webpack:///src/components/screens/setting/media.vue","webpack:///./src/components/screens/setting/media.vue?bf1f","webpack:///./src/components/screens/setting/media.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","modifiers","attrs","on","$event","$router","go","_v","activeName","saving","Post","_e","value","expression","class","selected","length","removeFiles","_m","file","_l","data","imageIndex","key","image","index","active","style","isSelected","changeSelect","mediaUrl","staticStyle","setHeight","ref","onFileChange","$refs","fileInput","click","model","storeData","callback","$$v","$set","lightBoxFiles","staticRenderFns","cloud_name","api_key","upload_preset","appUrl","loading","computed","watch","val","forEach","$store","commit","store","mounted","methods","filter","$smalltalk","e","path","height","clientWidth","uploadImageToServer","$axios","push","id","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAQF,EAAW,QAAEI,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,YAAY,CAACG,WAAW,CAAC,CAACC,KAAK,SAASC,QAAQ,eAAeC,UAAU,CAAC,KAAM,KAAQJ,YAAY,gBAAgBK,MAAM,CAAC,KAAO,UAAU,OAAS,IAAIC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,QAAQC,IAAI,MAAM,CAACX,EAAG,IAAI,CAACE,YAAY,2BAA2BF,EAAG,KAAK,CAACE,YAAY,aAAa,CAACN,EAAIgB,GAAG,oBAAoB,GAAGZ,EAAG,MAAM,CAACE,YAAY,8BAA8B,CAAoB,WAAlBN,EAAIiB,WAAyBb,EAAG,YAAY,CAACG,WAAW,CAAC,CAACC,KAAK,SAASC,QAAQ,eAAeC,UAAU,CAAC,KAAM,KAAQC,MAAM,CAAC,QAAUX,EAAIkB,OAAO,KAAO,WAAWN,GAAG,CAAC,MAAQZ,EAAImB,OAAO,CAACf,EAAG,IAAI,CAACE,YAAY,oBAAoBN,EAAIgB,GAAG,YAAYhB,EAAIoB,MAAM,KAAKhB,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,MAAM,CAACG,WAAW,CAAC,CAACC,KAAK,UAAUC,QAAQ,YAAYY,MAAOrB,EAAW,QAAEsB,WAAW,YAAYhB,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACF,EAAG,MAAM,CAACE,YAAY,qBAAqB,CAACF,EAAG,IAAI,CAACE,YAAY,iBAAiBiB,MAAyB,UAAnBvB,EAAIiB,YAA0B,mBAAmBL,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIiB,WAAa,WAAW,CAACjB,EAAIgB,GAAG,iBAAiBZ,EAAG,IAAI,CAACE,YAAY,iBAAiBiB,MAAyB,WAAnBvB,EAAIiB,YAA2B,mBAAmBL,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIiB,WAAa,YAAY,CAACjB,EAAIgB,GAAG,cAAcZ,EAAG,IAAI,CAACE,YAAY,iBAAiBiB,MAAyB,YAAnBvB,EAAIiB,YAA4B,mBAAmBL,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIiB,WAAa,aAAa,CAACjB,EAAIgB,GAAG,iBAAkBhB,EAAIwB,SAASC,OAAS,GAAuB,SAAlBzB,EAAIiB,WAAuBb,EAAG,IAAI,CAACE,YAAY,yBAAyBM,GAAG,CAAC,MAAQZ,EAAI0B,cAAc,CAACtB,EAAG,IAAI,CAACE,YAAY,iBAAiBN,EAAIgB,GAAG,cAAchB,EAAIoB,OAAOpB,EAAI2B,GAAG,GAAGvB,EAAG,MAAM,CAACG,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASY,MAAyB,SAAlBrB,EAAIiB,WAAuBK,WAAW,0BAA0BhB,YAAY,UAAU,CAAEN,EAAI4B,KAAKH,OAAS,EAAGrB,EAAG,MAAM,CAACE,YAAY,YAAYN,EAAI6B,GAAI7B,EAAQ,MAAE,SAAS8B,EAAKC,GAAY,OAAO3B,EAAG,MAAM,CAAC4B,IAAIF,EAAKG,MAAM3B,YAAY,2CAA2C,CAACF,EAAG,IAAI,CAACE,YAAY,2BAA2BM,GAAG,CAAC,MAAQ,SAASC,GAASb,EAAIkC,MAAQH,EAAc/B,EAAImC,QAAS,MAAU/B,EAAG,MAAM,CAACE,YAAY,8BAA8B8B,MAAO,mBACj1E,IAAlBL,EAAa,GACd,8BAA+BnB,GAAG,CAAC,MAAQ,SAASC,GAASiB,EAAKO,YAAcP,EAAKO,WAAarC,EAAIsC,aAAaR,MAAS,CAAC1B,EAAG,MAAM,CAACG,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASY,MAAOrB,EAAIuC,SAAWT,EAAKG,MAAOX,WAAW,0BAA0BC,MAAMO,EAAKO,YAAc,WAAWG,YAAY,CAAC,MAAQ,mBAAmB5B,GAAG,CAAC,KAAOZ,EAAIyC,oBAAmB,GAAGrC,EAAG,MAAM,CAACE,YAAY,mDAAmDkC,YAAY,CAAC,OAAS,SAAS,CAACpC,EAAG,MAAM,CAACE,YAAY,yCAAyC,CAACF,EAAG,WAAW,CAACO,MAAM,CAAC,YAAc,qBAAqB,OAAOP,EAAG,MAAM,CAACG,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASY,MAAyB,UAAlBrB,EAAIiB,WAAwBK,WAAW,2BAA2BhB,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,MAAM,CAACE,YAAY,0DAA0DkC,YAAY,CAAC,OAAS,SAAS,CAACpC,EAAG,MAAM,CAACE,YAAY,gKAAgKkC,YAAY,CAAC,MAAQ,QAAQ,CAACpC,EAAG,QAAQ,CAACsC,IAAI,YAAYpC,YAAY,8BAA8BK,MAAM,CAAC,KAAO,OAAO,KAAO,IAAIC,GAAG,CAAC,OAASZ,EAAI2C,gBAAgBvC,EAAG,MAAM,CAACE,YAAY,yKAAyK,CAACF,EAAG,IAAI,CAACE,YAAY,aAAa,CAACN,EAAIgB,GAAG,mCAAmCZ,EAAG,YAAY,CAACG,WAAW,CAAC,CAACC,KAAK,SAASC,QAAQ,eAAeC,UAAU,CAAC,KAAM,KAAQC,MAAM,CAAC,KAAO,WAAWC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAI4C,MAAMC,UAAUC,WAAW,CAAC9C,EAAIgB,GAAG,iBAAiB,WAAWZ,EAAG,MAAM,CAACG,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASY,MAAyB,WAAlBrB,EAAIiB,WAAyBK,WAAW,4BAA4BhB,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,OAAO,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,WAAW,CAACO,MAAM,CAAC,MAAQ,WAAW,UAAW,EAAM,KAAO,UAAU,CAACP,EAAG,IAAI,CAACJ,EAAIgB,GAAG,iEAAiEZ,EAAG,MAAMJ,EAAIgB,GAAG,wCAAwCZ,EAAG,IAAI,CAACO,MAAM,CAAC,KAAO,0BAA0B,OAAS,WAAW,CAACX,EAAIgB,GAAG,UAAUhB,EAAIgB,GAAG,WAAW,GAAGZ,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,gBAAgB,CAACN,EAAIgB,GAAG,gBAAgBZ,EAAG,WAAW,CAACE,YAAY,aAAaK,MAAM,CAAC,KAAO,IAAIoC,MAAM,CAAC1B,MAAOrB,EAAIgD,UAAoB,WAAEC,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAIgD,UAAW,aAAcE,IAAM5B,WAAW,0BAA0BlB,EAAG,QAAQ,CAACE,YAAY,gBAAgB,CAACN,EAAIgB,GAAG,aAAaZ,EAAG,WAAW,CAACE,YAAY,aAAaK,MAAM,CAAC,KAAO,IAAIoC,MAAM,CAAC1B,MAAOrB,EAAIgD,UAAiB,QAAEC,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAIgD,UAAW,UAAWE,IAAM5B,WAAW,wBAAwB,GAAGlB,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,QAAQ,CAACE,YAAY,gBAAgB,CAACN,EAAIgB,GAAG,oBAAoBZ,EAAG,WAAW,CAACE,YAAY,aAAaK,MAAM,CAAC,KAAO,IAAIoC,MAAM,CAAC1B,MAAOrB,EAAIgD,UAAuB,cAAEC,SAAS,SAAUC,GAAMlD,EAAImD,KAAKnD,EAAIgD,UAAW,gBAAiBE,IAAM5B,WAAW,8BAA8B,aAAalB,EAAG,eAAe,CAACO,MAAM,CAAC,MAAQX,EAAIoD,cAAc,YAAa,EAAK,MAAQpD,EAAIkC,OAAOtB,GAAG,CAAC,MAAQ,SAASC,GAAQb,EAAIkC,MAAQ,UAAU,GAAGlC,EAAIoB,MACvvGiC,EAAkB,CAAC,WAAa,IAAIrD,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,MAAM,CAACE,YAAY,4B,oGC0MjK,GACEwB,KADF,WAEI,MAAO,CACLkB,UAAW,CACTM,WAAY,GACZC,QAAS,GACTC,cAAe,IAEjBjB,SAAU,EAAhB,KACMkB,OAAQ,EAAd,KACMxC,WAAY,QACZO,SAAU,GACVkC,SAAS,EACTvB,QAAQ,EACRD,MAAO,KACPkB,cAAe,GACflC,QAAQ,IAGZyC,SAAU,OAAZ,OAAY,CAAZ,GACA,4CAEEC,MAAO,CACLhC,KADJ,SACA,cACUiC,IACF5D,KAAK2B,KAAKkC,SAAQ,SAA1B,GACU7B,EAAMI,YAAa,EACnB,EAAV,0CAEQpC,KAAK8D,OAAOC,OAAO,cAAc,KAGrCC,MAVJ,SAUA,GACMhE,KAAK+C,UAAUM,WAAaO,EAAIP,WAChCrD,KAAK+C,UAAUO,QAAUM,EAAIN,QAC7BtD,KAAK+C,UAAUQ,cAAgBK,EAAIL,gBAGvCU,QAtCF,WAsCA,WACIjE,KAAK8D,OAAOC,OAAO,cAAc,GAC7B/D,KAAKgE,QACPhE,KAAK+C,UAAUM,WAAarD,KAAKgE,MAAMX,WACvCrD,KAAK+C,UAAUO,QAAUtD,KAAKgE,MAAMV,QACpCtD,KAAK+C,UAAUQ,cAAgBvD,KAAKgE,MAAMT,eAGxCvD,KAAK2B,OACP3B,KAAK2B,KAAKkC,SAAQ,SAAxB,GACQ7B,EAAMI,YAAa,EACnB,EAAR,0CAEMpC,KAAK8D,OAAOC,OAAO,cAAc,KAGrCG,QAAS,CACP7B,aADJ,WAEMrC,KAAKuB,SAAWvB,KAAK2B,KAAKwC,QAAO,SAAvC,GACQ,OAAOnC,EAAMI,eAGjBlB,KANJ,WAMA,WACMlB,KAAKoE,WACX,QACA,WACA,sDAEA,iBACQ,EAAR,UACQ,IAAR,UACQ,EAAR,kCACQ,EAAR,4BACQ,EAAR,wCACQ,EAAR,qBAAU,KAAV,sBACU,EAAV,iCACU,EAAV,UACU,EAAV,eACY,MAAZ,UACY,MAAZ,UACY,QAAZ,sDAKI5B,UA7BJ,SA6BA,GACM6B,EAAEC,KAAK,GAAGnC,MAAMoC,OAASF,EAAEC,KAAK,GAAGE,YAAc,MAGnD,aAjCJ,SAiCA,0KACA,iDADA,uBAEA,oDAFA,mBAGA,GAHA,YAKA,8BALA,uBAMA,qCANA,mBAOA,GAPA,cASA,aACA,oBACA,eACA,mBACA,gDACA,oCACA,uCAfA,UAiBA,gDACA,mBADA,iBAEA,CACA,cACA,SArBA,eAiBA,EAjBA,iBAwBA,SAxBA,QAwBA,EAxBA,OAyBA,uBACA,qBA1BA,+CA6BIC,oBA9DJ,SA8DA,cACMzE,KAAK0E,OACX,eAAQ,KAAR,IACA,iBACQ,EAAR,6BACQ,EAAR,mBACQ,EAAR,cAEA,mBACQ,EAAR,WACQ,EAAR,eACU,QAAV,EACU,OAAV,QACU,MAAV,cAIIjD,YA/EJ,WA+EA,WACM,GAAIzB,KAAKuB,SAASC,OAAS,EAAG,CAC5BxB,KAAKyD,SAAU,EACf,IAAI5B,EAAO,GACX7B,KAAKuB,SAASsC,SAAQ,SAA9B,GACUhC,EAAK8C,KAAK3C,EAAM4C,OAElB5E,KAAK0E,OACb,sBAAU,KAAV,IACA,iBACU,EAAV,8BACU,EAAV,YACU,EAAV,WACU,EAAV,eACY,QAAZ,4CACY,MAAZ,UACY,MAAZ,eAGA,mBACU,EAAV,eACY,QAAZ,EACY,OAAZ,QACY,MAAZ,UAEU,EAAV,kBC3W6W,I,YCOzWG,EAAY,eACd,EACA/E,EACAsD,GACA,EACA,KACA,WACA,MAIa,aAAAyB,E","file":"js/chunk-2d0ceffb.58773a4b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between mt-3\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"no-width flat\",attrs:{\"type\":\"primary\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"bx bx-left-arrow-alt\"})]),_c('h5',{staticClass:\"my-0 ml-2\"},[_vm._v(\"Media library\")])],1),_c('div',{staticClass:\"flex-align-center flex-end\"},[(_vm.activeName == 'setting')?_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],attrs:{\"loading\":_vm.saving,\"type\":\"primary\"},on:{\"click\":_vm.Post}},[_c('i',{staticClass:\"bx bx-save mr-1\"}),_vm._v(\" Save \")]):_vm._e()],1)]),_c('div',{staticClass:\"col-12 mt-3\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"box pb-0\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('p',{staticClass:\"mx-0 table-tab\",class:_vm.activeName === 'media' && 'active-table-tab',on:{\"click\":function($event){_vm.activeName = 'media'}}},[_vm._v(\" All media \")]),_c('p',{staticClass:\"mx-0 table-tab\",class:_vm.activeName === 'upload' && 'active-table-tab',on:{\"click\":function($event){_vm.activeName = 'upload'}}},[_vm._v(\" Upload \")]),_c('p',{staticClass:\"mx-0 table-tab\",class:_vm.activeName === 'setting' && 'active-table-tab',on:{\"click\":function($event){_vm.activeName = 'setting'}}},[_vm._v(\" Setting \")])]),(_vm.selected.length > 0 && _vm.activeName == 'media')?_c('p',{staticClass:\"danger hover-underline\",on:{\"click\":_vm.removeFiles}},[_c('i',{staticClass:\"bx bx-x mr-1\"}),_vm._v(\" Delete \")]):_vm._e()]),_vm._m(0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName == 'media'),expression:\"activeName == 'media'\"}],staticClass:\"col-12\"},[(_vm.file.length > 0)?_c('div',{staticClass:\"row px-3\"},_vm._l((_vm.file),function(data,imageIndex){return _c('div',{key:data.image,staticClass:\"col-2 px-1 mb-3 light-box-img image-box\"},[_c('i',{staticClass:\"bx bx-expand-alt pointer\",on:{\"click\":function($event){(_vm.index = imageIndex), (_vm.active = true)}}}),_c('div',{staticClass:\"image-check animated fadeIn\",style:('animation-delay:' +\n                  (imageIndex + 1) * 45 +\n                  'ms;animation-duration:0.8s;'),on:{\"click\":function($event){(data.isSelected = !data.isSelected), _vm.changeSelect(data)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.mediaUrl + data.image),expression:\"mediaUrl + data.image\"}],class:data.isSelected && 'selected',staticStyle:{\"width\":\"100% !important\"},on:{\"load\":_vm.setHeight}})])])}),0):_c('div',{staticClass:\"d-flex align-items-center justify-content-center\",staticStyle:{\"height\":\"65vh\"}},[_c('div',{staticClass:\"d-flex flex-column align-items-center\"},[_c('el-empty',{attrs:{\"description\":\"No data found!\"}})],1)])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName == 'upload'),expression:\"activeName == 'upload'\"}],staticClass:\"col-12\"},[_c('div',{staticClass:\"row px-3\"},[_c('div',{staticClass:\"col-12 d-flex justify-content-center align-items-center\",staticStyle:{\"height\":\"65vh\"}},[_c('div',{staticClass:\"\\n                  file-uploader\\n                  d-flex\\n                  justify-content-center\\n                  align-items-center\\n                \",staticStyle:{\"width\":\"70%\"}},[_c('input',{ref:\"fileInput\",staticClass:\"uploader-file-input pointer\",attrs:{\"type\":\"file\",\"name\":\"\"},on:{\"change\":_vm.onFileChange}}),_c('div',{staticClass:\"\\n                    flex-column\\n                    d-flex\\n                    justify-content-center\\n                    align-items-center\\n                  \"},[_c('p',{staticClass:\"gray mb-2\"},[_vm._v(\"Drag images here to upload Or\")]),_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$refs.fileInput.click()}}},[_vm._v(\"Add images\")])],1)])])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeName == 'setting'),expression:\"activeName == 'setting'\"}],staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 mt-2 mb-3\"},[_c('el-alert',{attrs:{\"title\":\"Warning!\",\"closable\":false,\"type\":\"error\"}},[_c('p',[_vm._v(\" Please do not change anything without the help of developer.\"),_c('br'),_vm._v(\" You can read more about Cloudinary \"),_c('a',{attrs:{\"href\":\"https://cloudinary.com/\",\"target\":\"_blank\"}},[_vm._v(\"here\")]),_vm._v(\". \")])])],1),_c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"custom-label\"},[_vm._v(\"Cloud name\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.storeData.cloud_name),callback:function ($$v) {_vm.$set(_vm.storeData, \"cloud_name\", $$v)},expression:\"storeData.cloud_name\"}}),_c('label',{staticClass:\"custom-label\"},[_vm._v(\"API Key\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.storeData.api_key),callback:function ($$v) {_vm.$set(_vm.storeData, \"api_key\", $$v)},expression:\"storeData.api_key\"}})],1),_c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"custom-label\"},[_vm._v(\"Upload presets\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.storeData.upload_preset),callback:function ($$v) {_vm.$set(_vm.storeData, \"upload_preset\", $$v)},expression:\"storeData.upload_preset\"}})],1)])])])])]),_c('CoolLightBox',{attrs:{\"items\":_vm.lightBoxFiles,\"useZoomBar\":true,\"index\":_vm.index},on:{\"close\":function($event){_vm.index = null}}})],1):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"b-divider mb-1 mt-0\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"row\" v-if=\"isReady\">\r\n    <div class=\"col-12 flex-x-between mt-3\">\r\n      <div class=\"flex-align-center\">\r\n        <el-button\r\n          v-ripple.400\r\n          type=\"primary\"\r\n          circle\r\n          class=\"no-width flat\"\r\n          @click=\"$router.go(-1)\"\r\n        >\r\n          <i class=\"bx bx-left-arrow-alt\"></i>\r\n        </el-button>\r\n        <h5 class=\"my-0 ml-2\">Media library</h5>\r\n      </div>\r\n\r\n      <div class=\"flex-align-center flex-end\">\r\n        <el-button\r\n          :loading=\"saving\"\r\n          v-if=\"activeName == 'setting'\"\r\n          v-ripple.400\r\n          @click=\"Post\"\r\n          type=\"primary\"\r\n        >\r\n          <i class=\"bx bx-save mr-1\"></i> Save\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-12 mt-3\">\r\n      <div class=\"box pb-0\" v-loading=\"loading\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 flex-x-between\">\r\n            <div class=\"flex-align-center\">\r\n              <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'media' && 'active-table-tab'\"\r\n                @click=\"activeName = 'media'\"\r\n              >\r\n                All media\r\n              </p>\r\n              <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'upload' && 'active-table-tab'\"\r\n                @click=\"activeName = 'upload'\"\r\n              >\r\n                Upload\r\n              </p>\r\n              <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'setting' && 'active-table-tab'\"\r\n                @click=\"activeName = 'setting'\"\r\n              >\r\n                Setting\r\n              </p>\r\n            </div>\r\n            <p\r\n              class=\"danger hover-underline\"\r\n              v-if=\"selected.length > 0 && activeName == 'media'\"\r\n              @click=\"removeFiles\"\r\n            >\r\n              <i class=\"bx bx-x mr-1\"></i> Delete\r\n            </p>\r\n          </div>\r\n          <div class=\"col-12\"><div class=\"b-divider mb-1 mt-0\"></div></div>\r\n\r\n          <div class=\"col-12\" v-show=\"activeName == 'media'\">\r\n            <div class=\"row px-3\" v-if=\"file.length > 0\">\r\n              <div\r\n                v-for=\"(data, imageIndex) in file\"\r\n                v-bind:key=\"data.image\"\r\n                class=\"col-2 px-1 mb-3 light-box-img image-box\"\r\n              >\r\n                <i\r\n                  class=\"bx bx-expand-alt pointer\"\r\n                  @click=\"(index = imageIndex), (active = true)\"\r\n                ></i>\r\n                <div\r\n                  @click=\"\r\n                    (data.isSelected = !data.isSelected), changeSelect(data)\r\n                  \"\r\n                  class=\"image-check animated fadeIn\"\r\n                  :style=\"\r\n                    'animation-delay:' +\r\n                    (imageIndex + 1) * 45 +\r\n                    'ms;animation-duration:0.8s;'\r\n                  \"\r\n                >\r\n                  <img\r\n                    v-lazy=\"mediaUrl + data.image\"\r\n                    :class=\"data.isSelected && 'selected'\"\r\n                    style=\"width: 100% !important\"\r\n                    @load=\"setHeight\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              v-else\r\n              style=\"height: 65vh\"\r\n              class=\"d-flex align-items-center justify-content-center\"\r\n            >\r\n              <div class=\"d-flex flex-column align-items-center\">\r\n                <el-empty description=\"No data found!\"></el-empty>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12\" v-show=\"activeName == 'upload'\">\r\n            <div class=\"row px-3\">\r\n              <div\r\n                class=\"col-12 d-flex justify-content-center align-items-center\"\r\n                style=\"height: 65vh\"\r\n              >\r\n                <div\r\n                  class=\"\r\n                    file-uploader\r\n                    d-flex\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                  style=\"width: 70%\"\r\n                >\r\n                  <input\r\n                    type=\"file\"\r\n                    ref=\"fileInput\"\r\n                    class=\"uploader-file-input pointer\"\r\n                    @change=\"onFileChange\"\r\n                    name=\"\"\r\n                  />\r\n                  <div\r\n                    class=\"\r\n                      flex-column\r\n                      d-flex\r\n                      justify-content-center\r\n                      align-items-center\r\n                    \"\r\n                  >\r\n                    <p class=\"gray mb-2\">Drag images here to upload Or</p>\r\n                    <el-button\r\n                      type=\"primary\"\r\n                      v-ripple.400\r\n                      @click=\"$refs.fileInput.click()\"\r\n                      >Add images</el-button\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12\" v-show=\"activeName == 'setting'\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 mt-2 mb-3\">\r\n                <el-alert title=\"Warning!\" :closable=\"false\" type=\"error\">\r\n                  <p>\r\n                    Please do not change anything without the help of\r\n                    developer.<br />\r\n                    You can read more about Cloudinary\r\n                    <a href=\"https://cloudinary.com/\" target=\"_blank\">here</a>.\r\n                  </p>\r\n                </el-alert>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label class=\"custom-label\">Cloud name</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"storeData.cloud_name\"\r\n                />\r\n                <label class=\"custom-label\">API Key</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"storeData.api_key\"\r\n                />\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label class=\"custom-label\">Upload presets</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"storeData.upload_preset\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <CoolLightBox\r\n      :items=\"lightBoxFiles\"\r\n      :useZoomBar=\"true\"\r\n      :index=\"index\"\r\n      @close=\"index = null\"\r\n    >\r\n    </CoolLightBox>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { mediaUrl, appUrl } from \"../../../core/constant/data\";\r\n// import imageCompression from \"browser-image-compression\";\r\n// import axios from \"../../../core/axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      storeData: {\r\n        cloud_name: \"\",\r\n        api_key: \"\",\r\n        upload_preset: \"\",\r\n      },\r\n      mediaUrl: mediaUrl,\r\n      appUrl: appUrl,\r\n      activeName: \"media\",\r\n      selected: [],\r\n      loading: false,\r\n      active: false,\r\n      index: null,\r\n      lightBoxFiles: [],\r\n      saving: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"file\", \"isReady\", \"store\"]),\r\n  },\r\n  watch: {\r\n    file(val) {\r\n      if (val) {\r\n        this.file.forEach((image) => {\r\n          image.isSelected = false;\r\n          this.lightBoxFiles.push(this.mediaUrl + image.image);\r\n        });\r\n        this.$store.commit(\"setIsReady\", true);\r\n      }\r\n    },\r\n    store(val) {\r\n      this.storeData.cloud_name = val.cloud_name;\r\n      this.storeData.api_key = val.api_key;\r\n      this.storeData.upload_preset = val.upload_preset;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"setIsReady\", false);\r\n    if (this.store) {\r\n      this.storeData.cloud_name = this.store.cloud_name;\r\n      this.storeData.api_key = this.store.api_key;\r\n      this.storeData.upload_preset = this.store.upload_preset;\r\n    }\r\n\r\n    if (this.file) {\r\n      this.file.forEach((image) => {\r\n        image.isSelected = false;\r\n        this.lightBoxFiles.push(this.mediaUrl + image.image);\r\n      });\r\n      this.$store.commit(\"setIsReady\", true);\r\n    }\r\n  },\r\n  methods: {\r\n    changeSelect() {\r\n      this.selected = this.file.filter((image) => {\r\n        return image.isSelected;\r\n      });\r\n    },\r\n    Post() {\r\n      this.$smalltalk\r\n        .confirm(\r\n          \"Question\",\r\n          \"Are you sure you want to update cloudinary detail?\"\r\n        )\r\n        .then(() => {\r\n          this.saving = true;\r\n          var store = this.store;\r\n          store.cloud_name = this.storeData.cloud_name;\r\n          store.api_key = this.storeData.api_key;\r\n          store.upload_preset = this.storeData.upload_preset;\r\n          this.$axios.put(\"store/\", { data: store }).then((response) => {\r\n            this.$store.commit(\"setStore\", response.data);\r\n            this.saving = false;\r\n            this.$noti.display({\r\n              color: \"success\",\r\n              title: \"Success\",\r\n              message: \"Cool! Store has been successfully updated.\",\r\n            });\r\n          });\r\n        });\r\n    },\r\n    setHeight(e) {\r\n      e.path[0].style.height = e.path[0].clientWidth + \"px\";\r\n    },\r\n\r\n    async onFileChange(e) {\r\n      if (!/\\.(jpg|jpeg|png|JPG|PNG)$/.test(e.target.value)) {\r\n        alert(\"The file uploaded need to be -jpeg,jpg,png\");\r\n        return false;\r\n      }\r\n      if (e.target.files[0].size / 1000000 > 1) {\r\n        alert(\"Max image file size is 1MB!\");\r\n        return false;\r\n      }\r\n      this.loading = true;\r\n      var file = e.target.files[0];\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n      formData.append(\"upload_preset\", this.store.upload_preset);\r\n      formData.append(\"api_key\", this.store.api_key);\r\n      formData.append(\"timestamp\", (Date.now() / 1000) | 0);\r\n\r\n      var response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${this.store.cloud_name}/image/upload`,\r\n        {\r\n          method: \"POST\",\r\n          body: formData,\r\n        }\r\n      );\r\n      const img = await response.json();\r\n      this.uploadImageToServer({\r\n        image: img.secure_url,\r\n      });\r\n    },\r\n    uploadImageToServer(img) {\r\n      this.$axios\r\n        .post(\"files/\", { data: img })\r\n        .then(() => {\r\n          this.$store.commit(\"addFile\", [img]);\r\n          this.activeName = \"media\";\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          this.$noti.display({\r\n            message: err,\r\n            status: \"error\",\r\n            color: \"error\",\r\n          });\r\n        });\r\n    },\r\n    removeFiles() {\r\n      if (this.selected.length > 0) {\r\n        this.loading = true;\r\n        var data = [];\r\n        this.selected.forEach((image) => {\r\n          data.push(image.id);\r\n        });\r\n        this.$axios\r\n          .post(\"remove-files/\", { data })\r\n          .then(() => {\r\n            this.$store.commit(\"removeFile\", data);\r\n            this.selected = [];\r\n            this.loading = false;\r\n            this.$noti.display({\r\n              message: \"Cool! File has been successfully deleted.\",\r\n              title: \"success\",\r\n              color: \"success\",\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            this.$noti.display({\r\n              message: err,\r\n              status: \"error\",\r\n              color: \"error\",\r\n            });\r\n            this.loading = false;\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./media.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./media.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./media.vue?vue&type=template&id=6ec82d84&scoped=true&\"\nimport script from \"./media.vue?vue&type=script&lang=js&\"\nexport * from \"./media.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6ec82d84\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}