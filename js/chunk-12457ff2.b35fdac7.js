(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-12457ff2"],{1148:function(t,e,i){"use strict";var a=i("a691"),s=i("1d80");t.exports="".repeat||function(t){var e=String(s(this)),i="",r=a(t);if(r<0||r==1/0)throw RangeError("Wrong number of repetitions");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(i+=e);return i}},"408a":function(t,e,i){var a=i("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=a(t))throw TypeError("Incorrect invocation");return+t}},b680:function(t,e,i){"use strict";var a=i("23e7"),s=i("a691"),r=i("408a"),o=i("1148"),c=i("d039"),n=1..toFixed,l=Math.floor,u=function(t,e,i){return 0===e?i:e%2===1?u(t,e-1,i*t):u(t*t,e/2,i)},d=function(t){var e=0,i=t;while(i>=4096)e+=12,i/=4096;while(i>=2)e+=1,i/=2;return e},p=n&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c((function(){n.call({})}));a({target:"Number",proto:!0,forced:p},{toFixed:function(t){var e,i,a,c,n=r(this),p=s(t),m=[0,0,0,0,0,0],f="",v="0",b=function(t,e){var i=-1,a=e;while(++i<6)a+=t*m[i],m[i]=a%1e7,a=l(a/1e7)},h=function(t){var e=6,i=0;while(--e>=0)i+=m[e],m[e]=l(i/t),i=i%t*1e7},g=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==m[t]){var i=String(m[t]);e=""===e?i:e+o.call("0",7-i.length)+i}return e};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(n!=n)return"NaN";if(n<=-1e21||n>=1e21)return String(n);if(n<0&&(f="-",n=-n),n>1e-21)if(e=d(n*u(2,69,1))-69,i=e<0?n*u(2,-e,1):n/u(2,e,1),i*=4503599627370496,e=52-e,e>0){b(0,i),a=p;while(a>=7)b(1e7,0),a-=7;b(u(10,a,1),0),a=e-1;while(a>=23)h(1<<23),a-=23;h(1<<a),b(1,1),h(2),v=g()}else b(0,i),b(1<<-e,0),v=g()+o.call("0",p);return p>0?(c=v.length,v=f+(c<=p?"0."+o.call("0",p-c)+v:v.slice(0,c-p)+"."+v.slice(c-p))):v=f+v,v}})},f025:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mt-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 flex-x-between mb-3"},[i("div",{staticClass:"flex-align-center"},[i("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"no-width my-0 flat",attrs:{type:"primary",circle:""},on:{click:function(e){return t.$router.go(-1)}}},[i("i",{staticClass:"bx bx-left-arrow-alt"})]),i("h5",{staticClass:"my-0 ml-2"},[t._v("Add product")])],1),i("div",{staticClass:"flex-align-center flex-end"},[i("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"flat my-0",attrs:{type:"primary"},on:{click:function(e){return t.$router.go(-1)}}},[i("i",{staticClass:"bx bx-x mr-1"}),t._v("Discard ")]),i("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"my-0",attrs:{disabled:!t.startEditing,loading:t.saving,type:"primary"},on:{click:t.Post}},[i("i",{staticClass:"bx bx-save mr-1"}),t._v("Save ")])],1)]),i("div",{staticClass:"col-lg-8 col-md-cu-8 pr-lg-0"},[i("div",{staticClass:"box"},[i("div",{staticClass:"flex-x-between"},[i("div",{staticClass:"row mb-3"},[i("div",{staticClass:"col-12 mb-3"},[i("label",{staticClass:"custom-label",attrs:{for:"Media"}},[t._v("Media")]),i("file",{key:t.product.name,attrs:{initialData:t.product.image?[{image:t.product.image}]:[{}]},on:{completed:t.setImage}})],1),i("div",{staticClass:"col-12 mb-3"},[i("label",{staticClass:"custom-label",attrs:{for:"Name"}},[t._v("Name")]),i("el-input",{staticClass:"w-100",attrs:{name:"Name"},model:{value:t.product.name,callback:function(e){t.$set(t.product,"name",e)},expression:"product.name"}})],1),"supplier"!==t.store.type?i("div",{staticClass:"col-lg-6 mb-3"},[i("label",{staticClass:"custom-label",attrs:{for:"Link"}},[t._v("Price per item (MMK)")]),i("el-input",{staticClass:"w-100",attrs:{type:"number"},model:{value:t.product.cost_per_item,callback:function(e){t.$set(t.product,"cost_per_item",e)},expression:"product.cost_per_item"}})],1):t._e(),i("div",{staticClass:"col-lg-6 mb-3"},[i("label",{staticClass:"custom-label",attrs:{for:"Link"}},[t._v("Selling Price(MMK)")]),i("el-input",{staticClass:"w-100",attrs:{name:"Sale Price(MMK)",type:"number"},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),i("div",{staticClass:"col-6"},[i("label",{staticClass:"custom-label",attrs:{for:"Link"}},[t._v("Quantity")]),i("el-input-number",{staticClass:"w-100",attrs:{min:0,"controls-position":"right"},model:{value:t.product.number_of_stock,callback:function(e){t.$set(t.product,"number_of_stock",e)},expression:"product.number_of_stock"}})],1),i("div",{staticClass:"col-lg-6"},[i("label",{staticClass:"custom-label",attrs:{for:"Link"}},[t._v("Barcode")]),i("el-input",{staticClass:"w-100",model:{value:t.product.barcode,callback:function(e){t.$set(t.product,"barcode",e)},expression:"product.barcode"}})],1)])])])])])])])},s=[],r=(i("b680"),i("5530")),o=i("2f62"),c=i("9c83"),n=i("d50a"),l={data:function(){return{url:c["c"],mediaUrl:c["b"],product:{name:"",number_of_stock:"1",price:"0",cost_per_item:"0",image:"media/default.png",barcode:null},saving:!1,startEditing:!1}},components:{file:n["d"]},watch:{product:{handler:function(){this.startEditing=!0},deep:!0}},mounted:function(){var t=this;setTimeout((function(){t.startEditing=!1}),100),this.$store.commit("setIsReady",!0);var e=(new Date/100).toFixed(0),i="".concat(e).substr(e.length-6);this.product.barcode="YV3621"+i},beforeMount:function(){var t=this;window.addEventListener("beforeunload",this.preventNav),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("beforeunload",t.preventNav)}))},beforeRouteLeave:function(t,e,i){this.startEditing?this.$smalltalk.confirm("Question","Do you really want to leave? you have unsaved changes!").then((function(){i()})).catch((function(){i(!1)})):i()},methods:{preventNav:function(t){this.startEditing&&(t.preventDefault(),t.returnValue="")},setImage:function(t){this.product.image=t[0].image},Post:function(){var t=this;this.saving=!0,this.store=this.store.id,this.$axios.post("product/",{data:this.product}).then((function(e){t.startEditing=!1,t.saving=!1,t.$noti.display({title:"Success",color:"success",message:"Cool! Sale has been successfully added."}),t.$router.push({name:"Edit product",params:{id:e.data.id}})})).catch((function(e){t.saving=!1,t.$noti.display({message:e,title:"",status:"error",color:"error"})}))}},computed:Object(r["a"])({},Object(o["c"])(["isReady","store"]))},u=l,d=i("2877"),p=Object(d["a"])(u,a,s,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-12457ff2.b35fdac7.js.map