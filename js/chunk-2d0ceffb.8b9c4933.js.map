{"version":3,"sources":["webpack:///./src/components/screens/setting/media.vue","webpack:///src/components/screens/setting/media.vue","webpack:///./src/components/screens/setting/media.vue?bf1f","webpack:///./src/components/screens/setting/media.vue?385e"],"names":["render","_vm","this","_c","_self","isReady","staticClass","directives","name","rawName","modifiers","attrs","on","$event","$router","go","_v","saving","Post","value","loading","expression","class","activeName","_m","model","media_key","cloud_name","callback","$$v","$set","api_key","upload_preset","_e","staticRenderFns","data","storeData","mediaUrl","appUrl","selected","active","index","lightBoxFiles","computed","mapState","watch","file","val","forEach","image","isSelected","push","$store","commit","store","JSON","parse","fbLink","mounted","files","methods","changeSelect","filter","$smalltalk","confirm","then","stringify","$axios","put","response","$noti","display","color","title","message","setHeight","e","path","style","height","clientWidth","test","target","alert","size","formData","FormData","append","Date","now","fetch","method","body","img","json","uploadImageToServer","secure_url","post","catch","err","status","removeFiles","length","id","component"],"mappings":"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","file":"js/chunk-2d0ceffb.8b9c4933.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.isReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between mt-3\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"no-width flat\",attrs:{\"type\":\"primary\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"bx bx-left-arrow-alt\"})]),_c('h5',{staticClass:\"my-0 ml-2\"},[_vm._v(\"Media library\")])],1),_c('div',{staticClass:\"flex-align-center flex-end\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],attrs:{\"loading\":_vm.saving,\"type\":\"primary\"},on:{\"click\":_vm.Post}},[_c('i',{staticClass:\"bx bx-save mr-1\"}),_vm._v(\" Save \")])],1)]),_c('div',{staticClass:\"col-12 mt-3\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"box pb-0\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('p',{staticClass:\"mx-0 table-tab\",class:_vm.activeName === 'setting' && 'active-table-tab',on:{\"click\":function($event){_vm.activeName = 'setting'}}},[_vm._v(\" Setting \")])])]),_vm._m(0),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 mt-2 mb-3\"},[_c('el-alert',{attrs:{\"title\":\"Warning!\",\"closable\":false,\"type\":\"error\"}},[_c('p',[_vm._v(\" Please do not change anything without the help of developer.\"),_c('br'),_vm._v(\" You can read more about Cloudinary \"),_c('a',{attrs:{\"href\":\"https://cloudinary.com/\",\"target\":\"_blank\"}},[_vm._v(\"here\")]),_vm._v(\". \")])])],1),_c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"custom-label\"},[_vm._v(\"Cloud name\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.media_key.cloud_name),callback:function ($$v) {_vm.$set(_vm.media_key, \"cloud_name\", $$v)},expression:\"media_key.cloud_name\"}}),_c('label',{staticClass:\"custom-label\"},[_vm._v(\"API Key\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.media_key.api_key),callback:function ($$v) {_vm.$set(_vm.media_key, \"api_key\", $$v)},expression:\"media_key.api_key\"}})],1),_c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"custom-label\"},[_vm._v(\"Upload presets\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.media_key.upload_preset),callback:function ($$v) {_vm.$set(_vm.media_key, \"upload_preset\", $$v)},expression:\"media_key.upload_preset\"}})],1)])])])])])]):_vm._e()\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"b-divider mb-1 mt-0\"})])\n}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"row\" v-if=\"isReady\">\r\n    <div class=\"col-12 flex-x-between mt-3\">\r\n      <div class=\"flex-align-center\">\r\n        <el-button\r\n          v-ripple.400\r\n          type=\"primary\"\r\n          circle\r\n          class=\"no-width flat\"\r\n          @click=\"$router.go(-1)\"\r\n        >\r\n          <i class=\"bx bx-left-arrow-alt\"></i>\r\n        </el-button>\r\n        <h5 class=\"my-0 ml-2\">Media library</h5>\r\n      </div>\r\n\r\n      <div class=\"flex-align-center flex-end\">\r\n        <el-button :loading=\"saving\" v-ripple.400 @click=\"Post\" type=\"primary\">\r\n          <i class=\"bx bx-save mr-1\"></i> Save\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-12 mt-3\">\r\n      <div class=\"box pb-0\" v-loading=\"loading\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 flex-x-between\">\r\n            <div class=\"flex-align-center\">\r\n              <!-- <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'media' && 'active-table-tab'\"\r\n                @click=\"activeName = 'media'\"\r\n              >\r\n                All media\r\n              </p>\r\n              <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'upload' && 'active-table-tab'\"\r\n                @click=\"activeName = 'upload'\"\r\n              >\r\n                Upload\r\n              </p> -->\r\n              <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'setting' && 'active-table-tab'\"\r\n                @click=\"activeName = 'setting'\"\r\n              >\r\n                Setting\r\n              </p>\r\n            </div>\r\n            <!-- <p\r\n              class=\"danger hover-underline\"\r\n              v-if=\"selected.length > 0 && activeName == 'media'\"\r\n              @click=\"removeFiles\"\r\n            >\r\n              <i class=\"bx bx-x mr-1\"></i> Delete\r\n            </p> -->\r\n          </div>\r\n          <div class=\"col-12\"><div class=\"b-divider mb-1 mt-0\"></div></div>\r\n          <!-- \r\n          <div class=\"col-12\" v-show=\"activeName == 'media'\">\r\n            <div class=\"row px-3\" v-if=\"files.length > 0\">\r\n              <div\r\n                v-for=\"(data, imageIndex) in files\"\r\n                v-bind:key=\"data.image\"\r\n                class=\"col-2 px-1 mb-3 light-box-img image-box\"\r\n              >\r\n                <i\r\n                  class=\"bx bx-expand-alt pointer\"\r\n                  @click=\"(index = imageIndex), (active = true)\"\r\n                ></i>\r\n                <div\r\n                  @click=\"\r\n                    (data.isSelected = !data.isSelected), changeSelect(data)\r\n                  \"\r\n                  class=\"image-check animated fadeIn\"\r\n                  :style=\"\r\n                    'animation-delay:' +\r\n                    (imageIndex + 1) * 45 +\r\n                    'ms;animation-duration:0.8s;'\r\n                  \"\r\n                >\r\n                  <img\r\n                    v-lazy=\"mediaUrl + data.image\"\r\n                    :class=\"data.isSelected && 'selected'\"\r\n                    style=\"width: 100% !important\"\r\n                    @load=\"setHeight\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              v-else\r\n              style=\"height: 65vh\"\r\n              class=\"d-flex align-items-center justify-content-center\"\r\n            >\r\n              <div class=\"d-flex flex-column align-items-center\">\r\n                <el-empty description=\"No data found!\"></el-empty>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12\" v-show=\"activeName == 'upload'\">\r\n            <div class=\"row px-3\">\r\n              <div\r\n                class=\"col-12 d-flex justify-content-center align-items-center\"\r\n                style=\"height: 65vh\"\r\n              >\r\n                <div\r\n                  class=\"\r\n                    file-uploader\r\n                    d-flex\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                  style=\"width: 70%\"\r\n                >\r\n                  <input\r\n                    type=\"file\"\r\n                    ref=\"fileInput\"\r\n                    class=\"uploader-file-input pointer\"\r\n                    @change=\"onFileChange\"\r\n                    name=\"\"\r\n                  />\r\n                  <div\r\n                    class=\"\r\n                      flex-column\r\n                      d-flex\r\n                      justify-content-center\r\n                      align-items-center\r\n                    \"\r\n                  >\r\n                    <p class=\"gray mb-2\">Drag images here to upload Or</p>\r\n                    <el-button\r\n                      type=\"primary\"\r\n                      v-ripple.400\r\n                      @click=\"$refs.fileInput.click()\"\r\n                      >Add images</el-button\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div> -->\r\n          <div class=\"col-12\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 mt-2 mb-3\">\r\n                <el-alert title=\"Warning!\" :closable=\"false\" type=\"error\">\r\n                  <p>\r\n                    Please do not change anything without the help of\r\n                    developer.<br />\r\n                    You can read more about Cloudinary\r\n                    <a href=\"https://cloudinary.com/\" target=\"_blank\">here</a>.\r\n                  </p>\r\n                </el-alert>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label class=\"custom-label\">Cloud name</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"media_key.cloud_name\"\r\n                />\r\n                <label class=\"custom-label\">API Key</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"media_key.api_key\"\r\n                />\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label class=\"custom-label\">Upload presets</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"media_key.upload_preset\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <CoolLightBox\r\n      :items=\"lightBoxFiles\"\r\n      :useZoomBar=\"true\"\r\n      :index=\"index\"\r\n      @close=\"index = null\"\r\n    >\r\n    </CoolLightBox> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { mediaUrl, appUrl } from \"../../../core/constant/data\";\r\n// import imageCompression from \"browser-image-compression\";\r\n// import axios from \"../../../core/axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      storeData: {\r\n        cloud_name: \"\",\r\n        api_key: \"\",\r\n        upload_preset: \"\",\r\n      },\r\n      mediaUrl: mediaUrl,\r\n      appUrl: appUrl,\r\n      activeName: \"media\",\r\n      selected: [],\r\n      loading: false,\r\n      active: false,\r\n      index: null,\r\n      lightBoxFiles: [],\r\n      saving: false,\r\n      media_key: {\r\n        cloud_name: \"\",\r\n        api_key: \"\",\r\n        upload_preset: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"files\", \"isReady\", \"store\"]),\r\n  },\r\n  watch: {\r\n    file(val) {\r\n      if (val) {\r\n        this.file.forEach((image) => {\r\n          image.isSelected = false;\r\n          this.lightBoxFiles.push(this.mediaUrl + image.image);\r\n        });\r\n        this.$store.commit(\"setIsReady\", true);\r\n      }\r\n    },\r\n    store(val) {\r\n      this.media_key = JSON.parse(val.fbLink);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"setIsReady\", false);\r\n    if (this.store) {\r\n      this.media_key = JSON.parse(this.store.fbLink);\r\n    }\r\n    this.$store.commit(\"setIsReady\", true);\r\n    if (this.files) {\r\n      this.files.forEach((image) => {\r\n        image.isSelected = false;\r\n        this.lightBoxFiles.push(this.mediaUrl + image.image);\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    changeSelect() {\r\n      this.selected = this.files.filter((image) => {\r\n        return image.isSelected;\r\n      });\r\n    },\r\n    Post() {\r\n      this.$smalltalk\r\n        .confirm(\r\n          \"Question\",\r\n          \"Are you sure you want to update cloudinary detail?\"\r\n        )\r\n        .then(() => {\r\n          this.saving = true;\r\n          var store = this.store;\r\n          store.fbLink = JSON.stringify(this.media_key);\r\n          this.$axios.put(\"store/\", { data: store }).then((response) => {\r\n            this.$store.commit(\"setStore\", response.data);\r\n            this.saving = false;\r\n            this.$noti.display({\r\n              color: \"success\",\r\n              title: \"Success\",\r\n              message: \"Cool! Store has been successfully updated.\",\r\n            });\r\n          });\r\n        });\r\n    },\r\n    setHeight(e) {\r\n      e.path[0].style.height = e.path[0].clientWidth + \"px\";\r\n    },\r\n\r\n    async onFileChange(e) {\r\n      if (!/\\.(jpg|jpeg|png|JPG|PNG)$/.test(e.target.value)) {\r\n        alert(\"The file uploaded need to be -jpeg,jpg,png\");\r\n        return false;\r\n      }\r\n      if (e.target.files[0].size / 1000000 > 1) {\r\n        alert(\"Max image file size is 1MB!\");\r\n        return false;\r\n      }\r\n      this.loading = true;\r\n      var file = e.target.files[0];\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n      formData.append(\"upload_preset\", this.media_key.upload_preset);\r\n      formData.append(\"api_key\", this.media_key.api_key);\r\n      formData.append(\"timestamp\", (Date.now() / 1000) | 0);\r\n\r\n      var response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${this.media_key.cloud_name}/image/upload`,\r\n        {\r\n          method: \"POST\",\r\n          body: formData,\r\n        }\r\n      );\r\n      const img = await response.json();\r\n      this.uploadImageToServer({\r\n        image: img.secure_url,\r\n      });\r\n    },\r\n    uploadImageToServer(img) {\r\n      this.$axios\r\n        .post(\"files/\", { data: img })\r\n        .then(() => {\r\n          this.$store.commit(\"addFile\", [img]);\r\n          this.activeName = \"media\";\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          this.$noti.display({\r\n            message: err,\r\n            status: \"error\",\r\n            color: \"error\",\r\n          });\r\n        });\r\n    },\r\n    removeFiles() {\r\n      if (this.selected.length > 0) {\r\n        this.loading = true;\r\n        var data = [];\r\n        this.selected.forEach((image) => {\r\n          data.push(image.id);\r\n        });\r\n        this.$axios\r\n          .post(\"remove-files/\", { data })\r\n          .then(() => {\r\n            this.$store.commit(\"removeFile\", data);\r\n            this.selected = [];\r\n            this.loading = false;\r\n            this.$noti.display({\r\n              message: \"Cool! File has been successfully deleted.\",\r\n              title: \"success\",\r\n              color: \"success\",\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            this.$noti.display({\r\n              message: err,\r\n              status: \"error\",\r\n              color: \"error\",\r\n            });\r\n            this.loading = false;\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./media.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./media.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./media.vue?vue&type=template&id=44afe71b&scoped=true&\"\nimport script from \"./media.vue?vue&type=script&lang=js&\"\nexport * from \"./media.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"44afe71b\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}