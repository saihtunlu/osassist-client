(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a389c"],{"0336":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[t.isReady?s("div",{staticClass:"col-12 mt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 flex-x-between mb-3"},[s("div",{staticClass:"flex-align-center"},[s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"no-width flat",attrs:{type:"primary",circle:""},on:{click:function(e){return t.$router.go(-1)}}},[s("i",{staticClass:"bx bx-left-arrow-alt"})]),s("h5",{staticClass:"my-0 ml-2"},[t._v(t._s(t.supplier.name))])],1),t.isReady&&t.startEditing?s("div",{staticClass:"flex-align-center flex-end"},[s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"flat",attrs:{type:"primary"},on:{click:t.cancelEdit}},[t._v(" Discard ")]),s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],attrs:{disabled:!t.startEditing,loading:t.saving,type:"primary"},on:{click:t.Post}},[t._v(" Save ")])],1):t._e()]),s("div",{staticClass:"col-lg-8"},[s("div",{staticClass:"box"},[s("p",{staticClass:"mt-0 mb-2 text-bold"},[t._v("Details")]),s("label",{staticClass:"custom-label",attrs:{for:"name"}},[t._v("Name")]),s("el-input",{staticClass:"w-100 mb-3",attrs:{name:"name"},model:{value:t.supplier.name,callback:function(e){t.$set(t.supplier,"name",e)},expression:"supplier.name"}}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("label",{staticClass:"custom-label",attrs:{for:"Address"}},[t._v("Address")]),s("el-input",{staticClass:"w-100 mb-3",attrs:{name:"Address"},model:{value:t.supplier.address,callback:function(e){t.$set(t.supplier,"address",e)},expression:"supplier.address"}})],1),s("div",{staticClass:"col-6"},[s("label",{staticClass:"custom-label",attrs:{for:"Phone"}},[t._v("Phone number")]),s("el-input",{staticClass:"w-100 mb-3",attrs:{name:"Phone",type:"number"},model:{value:t.supplier.telephone,callback:function(e){t.$set(t.supplier,"telephone",e)},expression:"supplier.telephone"}})],1)]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("label",{staticClass:"custom-label",attrs:{for:"Phone"}},[t._v("Website")]),s("el-input",{staticClass:"w-100",attrs:{name:"Phone",type:"url"},model:{value:t.supplier.website,callback:function(e){t.$set(t.supplier,"website",e)},expression:"supplier.website"}})],1),s("div",{staticClass:"col-6"},[s("label",{staticClass:"custom-label",attrs:{for:"Facebook"}},[t._v("Facebook Page")]),s("el-input",{staticClass:"w-100",attrs:{name:"Facebook",type:"url"},model:{value:t.supplier.facebook_page,callback:function(e){t.$set(t.supplier,"facebook_page",e)},expression:"supplier.facebook_page"}})],1)])],1),s("div",{staticClass:"box mt-base"},[s("p",{staticClass:"mt-0 mb-2 text-bold"},[t._v("Contact Person")]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("label",{staticClass:"custom-label",attrs:{for:"name"}},[t._v("name")]),s("el-input",{staticClass:"w-100",attrs:{name:"name"},model:{value:t.supplier.contact_person,callback:function(e){t.$set(t.supplier,"contact_person",e)},expression:"supplier.contact_person"}})],1),s("div",{staticClass:"col-6"},[s("label",{staticClass:"custom-label",attrs:{for:"Phone"}},[t._v("Phone number")]),s("el-input",{staticClass:"w-100",attrs:{name:"Phone",type:"number"},model:{value:t.supplier.cp_mobile,callback:function(e){t.$set(t.supplier,"cp_mobile",e)},expression:"supplier.cp_mobile"}})],1)])])])])]):t._e()])},i=[],l=s("5530"),r=s("2f62"),n={data:function(){return{saving:!1,supplier:{tags:[]},loading:null,startEditing:!1,supplierBeforeEdit:""}},watch:{supplier:{handler:function(t){this.supplierBeforeEdit==JSON.stringify(t)?this.startEditing=!1:this.startEditing=!0},deep:!0}},created:function(){this.filterSupplier()},beforeMount:function(){var t=this;window.addEventListener("beforeunload",this.preventNav),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("beforeunload",t.preventNav)}))},beforeRouteLeave:function(t,e,s){this.startEditing?this.$smalltalk.confirm("Question","Do you really want to leave? you have unsaved changes!").then((function(){s()})).catch((function(){s(!1)})):s()},methods:{preventNav:function(t){this.startEditing&&(t.preventDefault(),t.returnValue="")},cancelEdit:function(){var t=this;this.category=JSON.parse(this.categoryBeforeEdit),setTimeout((function(){t.startEditing=!1}),10)},filterSupplier:function(){var t=this;this.$store.commit("setIsReady",!1),this.$axios.get("supplier/?supplier_id="+this.$route.params.id).then((function(e){t.supplier=e.data,t.supplierBeforeEdit=JSON.stringify(e.data),setTimeout((function(){t.startEditing=!1}),10),t.$store.commit("setIsReady",!0)})).catch((function(e){t.$error.raise(e)}))},Post:function(){var t=this;this.saving=!0,this.$axios.put("supplier/",{data:this.supplier}).then((function(e){t.saving=!1,t.deliveryBeforeEdit=JSON.stringify(e.data),t.delivery=e.data,setTimeout((function(){t.startEditing=!1}),10),t.$noti.display({color:"success",title:"Success",message:"Cool! supplier has been successfully updated."})})).catch((function(e){t.saving=!1,t.$noti.display({message:e,status:"error",color:"error"})}))}},computed:Object(l["a"])({},Object(r["c"])(["isReady"]))},o=n,c=s("2877"),p=Object(c["a"])(o,a,i,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0a389c.418e8e72.js.map