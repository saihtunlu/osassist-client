(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c22a7"],{"48c0":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.store?s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 mt-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12 flex-x-between mb-3"},[s("div",{staticClass:"flex-align-center"},[s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"no-width my-0 flat",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$router.go(-1)}}},[s("i",{staticClass:"bx bx-left-arrow-alt"})]),s("h5",{staticClass:"my-0 ml-2"},[e._v("Add order")])],1),s("div",{staticClass:"flex-align-center sm-hide flex-end"},[s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"flat my-0",attrs:{type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[s("i",{staticClass:"bx bx-x mr-1"}),e._v("Discard ")]),s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"my-0",attrs:{disabled:!e.startEditing,loading:e.saving,type:"primary"},on:{click:e.Post}},[s("i",{staticClass:"bx bx-save mr-1"}),e._v("Save ")])],1)]),s("div",{staticClass:"col-lg-8 col-md-cu-8 pr-lg-0"},[s("div",{staticClass:"box"},[s("div",{staticClass:"flex-x-between"},[s("p",{staticClass:"mt-0 mb-2 text-bold"},[e._v("Items")]),s("div",{staticClass:"d-flex align-items-center"},[s("p",{staticClass:"mt-0 pointer primary hover-underline",on:{click:e.addItem}},[s("i",{staticClass:"bx bx-plus mr-1"}),e._v("Add item ")])])]),s("div",{staticClass:"row"},[e.store&&"normal"==e.store.type?s("div",{staticClass:"col-12"},[s("el-select",{staticClass:"w-100 my-3 my-sm-2",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"search product","remote-method":e.getProducts,loading:e.loadingProduct},model:{value:e.productQuery,callback:function(t){e.productQuery=t},expression:"productQuery"}},e._l(e.products,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name+" / "+e.barcode||"",value:e}})})),1)],1):e._e(),e.sale.products.length>0?s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingProduct,expression:"loadingProduct"}],staticClass:"col-12"},[s("el-collapse",e._l(e.sale.products,(function(t,a){return s("el-collapse-item",{key:a+t.name+t.image,attrs:{name:a}},[s("template",{slot:"title"},[s("div",{staticClass:"flex-x-between w-100 collapse-header"},[s("p",[e._v(" "+e._s(t.name)+" - "+e._s(t.subtotal)+e._s("supplier"===e.store.type?"Â¥":"MMK")+" ")]),s("p",{staticClass:"danger hover-underline",staticStyle:{"margin-right":"8px","z-index":"10"},on:{click:function(t){return e.removeProduct(a)}}},[s("i",{staticClass:"bx bx-x"})])])]),s("div",{staticClass:"row mb-3"},[s("div",{staticClass:"col-12 mb-3"},[s("label",{staticClass:"custom-label",attrs:{for:"Media"}},[e._v("Media")]),s("file",{key:a+t.name,attrs:{initialData:t.image?[{image:t.image}]:[]},on:{completed:function(t){return e.setImage(t,a)}}})],1),s("div",{staticClass:"col-12 mb-3"},[s("label",{staticClass:"custom-label",attrs:{for:"Name"}},[e._v("Name")]),s("el-input",{staticClass:"w-100",attrs:{name:"Name"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"product.name"}})],1),"supplier"!==e.store.type?s("div",{staticClass:"col-lg-6 mb-3"},[s("label",{staticClass:"custom-label",attrs:{for:"Link"}},[e._v("Capital price(MMK)")]),s("el-input",{staticClass:"w-100",attrs:{name:"Capital price(MMK)",type:"number"},on:{change:function(t){return e.calcPrice(a)}},model:{value:t.primary_price_myanmar,callback:function(s){e.$set(t,"primary_price_myanmar",s)},expression:"product.primary_price_myanmar"}})],1):e._e(),"supplier"!==e.store.type?s("div",{staticClass:"col-lg-6 mb-3"},[s("label",{staticClass:"custom-label",attrs:{for:"Link"}},[e._v("Selling Price(MMK)")]),s("el-input",{staticClass:"w-100",attrs:{name:"Sale Price(MMK)",type:"number"},on:{change:function(t){return e.calcPrice(a)}},model:{value:t.sale_price,callback:function(s){e.$set(t,"sale_price",s)},expression:"product.sale_price"}})],1):e._e(),s("div",{staticClass:"col-lg-6"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("label",{staticClass:"custom-label",attrs:{for:"Link"}},[e._v("Quantity")]),s("el-input-number",{staticClass:"w-100",attrs:{min:0,"controls-position":"right"},on:{change:function(t){return e.changeQuantity(a)}},model:{value:t.quantity,callback:function(s){e.$set(t,"quantity",s)},expression:"product.quantity"}})],1),s("div",{staticClass:"col-6"},[s("label",{staticClass:"custom-label",attrs:{for:"Link"}},[e._v("Fulfilled")]),s("el-input-number",{staticClass:"w-100",attrs:{min:0,"controls-position":"right"},model:{value:t.number_of_fullfilled,callback:function(s){e.$set(t,"number_of_fullfilled",s)},expression:"product.number_of_fullfilled"}})],1)])]),"supplier"==e.store.type?s("div",{staticClass:"col-lg-6 mb-3"},[s("label",{staticClass:"custom-label",attrs:{for:"Link"}},[e._v("Price")]),s("el-input",{staticClass:"w-100",attrs:{name:"Price",type:"number"},on:{change:function(t){return e.calcPrice(a)}},model:{value:t.sale_price,callback:function(s){e.$set(t,"sale_price",s)},expression:"product.sale_price"}})],1):e._e(),"supplier"!==e.store.type?s("div",{staticClass:"\n                        d-flex\n                        justify-content-around\n                        col-lg-6\n                        align-items-center\n                      "},[s("div",{staticClass:"\n                          d-flex\n                          justify-content-center\n                          align-items-center\n                          flex-column\n                        "},[s("p",{staticClass:"md-text"},[e._v("Margin")]),s("p",{staticClass:"mt-2"},[e._v(" "+e._s(t.margin?t.margin+"%":"-")+" ")])]),s("div",{staticClass:"\n                          d-flex\n                          justify-content-center\n                          align-items-center\n                          flex-column\n                        "},[s("p",{staticClass:"md-text"},[e._v("Profit(MMK)")]),s("p",{staticClass:"mt-2"},[e._v(" "+e._s(t.profit?t.profit:"-")+" ")])])]):e._e()])],2)})),1)],1):s("el-empty",{staticClass:"w-100",attrs:{description:"No item found!"},scopedSlots:e._u([{key:"image",fn:function(){return[s("empty")]},proxy:!0}],null,!1,81314202)})],1)]),s("div",{staticClass:"box mt-3 my-sm-3 mb-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("p",{staticClass:"mt-0 mb-2 text-bold"},[e._v("Pricing")]),s("div",{staticClass:"flex-x-between"},[s("p",{staticClass:"primary hover-underline pointer",on:{click:function(t){e.openDiscount=!e.openDiscount}}},[e._v(" Add discount ")]),s("p",{staticClass:"text-right"},[e._v(" "+e._s(0===parseFloat(e.sale.discount)?"-":"-"+e.sale.discount+"MMK")+" "),e.sale.discount_reason?s("span",{staticClass:"sm-text"},[s("br"),e._v(" "+e._s(e.sale.discount_reason)+" ")]):e._e()])]),s("el-divider"),s("div",{staticClass:"flex-x-between"},[s("p",{},[e._v("Subtotal")]),s("p",[e._v(" "+e._s(0===parseFloat(e.sale.subtotal)?"-":e.sale.subtotal+"MMK")+" ")])]),s("el-divider"),s("div",{staticClass:"flex-x-between"},[s("p",{},[e._v("Total")]),s("p",{},[e._v(" "+e._s(0===parseFloat(e.sale.total)?"-":e.sale.total+"MMK")+" ")])])],1)])])]),s("div",{staticClass:"col-lg-4 col-md-cu-4"},[s("div",{staticClass:"box"},[s("label",{staticClass:"custom-label md-text",attrs:{for:""}},[e._v("Date of order")]),s("el-date-picker",{staticClass:"w-100",attrs:{type:"date",format:"dd/MM/yyyy","value-format":"dd/MM/yyyy",placeholder:"Pick a date"},model:{value:e.sale.date,callback:function(t){e.$set(e.sale,"date",t)},expression:"sale.date"}}),"supplier"!==e.store.type?s("label",{staticClass:"custom-label mt-3 md-text",attrs:{for:""}},[e._v("Type")]):e._e(),"supplier"!==e.store.type?s("div",{staticClass:"flex-align-center"},[s("el-radio",{staticClass:"mr-3",attrs:{label:"In Stock"},model:{value:e.sale.type,callback:function(t){e.$set(e.sale,"type",t)},expression:"sale.type"}},[e._v("In Stock")]),s("el-radio",{attrs:{label:"Pre Order"},model:{value:e.sale.type,callback:function(t){e.$set(e.sale,"type",t)},expression:"sale.type"}},[e._v("Pre Order")])],1):e._e(),s("label",{staticClass:"custom-label mt-3 md-text",attrs:{for:""}},[e._v("Exported By")]),s("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"Select","remote-method":e.getEmployees,loading:e.loadingEmployee},model:{value:e.sale.exported_by,callback:function(t){e.$set(e.sale,"exported_by",t)},expression:"sale.exported_by"}},e._l(e.employees,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),s("label",{staticClass:"custom-label mt-3 md-text",attrs:{for:""}},[e._v("Delivery")]),s("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"","allow-create":"",placeholder:"Select or create new","remote-method":e.getDeliveries,loading:e.loadingDelivey},model:{value:e.sale.delivery_company_name,callback:function(t){e.$set(e.sale,"delivery_company_name",t)},expression:"sale.delivery_company_name"}},e._l(e.deliveries,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),s("label",{staticClass:"custom-label mt-3 mb-0"},[e._v("Note")]),s("el-input",{attrs:{type:"textarea",placeholder:"Text such as facebook profile link, etc.",row:5},model:{value:e.sale.note,callback:function(t){e.$set(e.sale,"note",t)},expression:"sale.note"}})],1),"supplier"==e.store.type?s("div",{staticClass:"box mt-3"},[s("p",{staticClass:"mt-0 mb-2 text-bold"},[e._v("Pricing Details")]),s("label",{staticClass:"custom-label"},[e._v("Exchange Rate")]),s("el-input",{staticClass:"w-100",model:{value:e.sale.money_price,callback:function(t){e.$set(e.sale,"money_price",t)},expression:"sale.money_price"}}),s("label",{staticClass:"custom-label mt-3"},[e._v("Service Fees(%)")]),s("el-input",{staticClass:"w-100",on:{change:e.calcTotal},model:{value:e.sale.supplier_percentage,callback:function(t){e.$set(e.sale,"supplier_percentage",t)},expression:"sale.supplier_percentage"}})],1):e._e(),s("div",{staticClass:"box mt-3 mb-3"},[s("p",{staticClass:"mt-0 mb-2 text-bold"},[e._v("Customer")]),s("label",{staticClass:"custom-label md-text",attrs:{for:""}},[e._v("Name")]),s("el-select",{staticClass:"w-100 mb-3",attrs:{filterable:"",remote:"","data-is-search":"true","allow-create":"","reserve-keyword":"",placeholder:"Select or create new","remote-method":e.getCustomers,loading:e.loadingCustomer},on:{change:e.changeCustomer},model:{value:e.sale.customer_name,callback:function(t){e.$set(e.sale,"customer_name",t)},expression:"sale.customer_name"}},e._l(e.customers,(function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1),s("label",{staticClass:"custom-label md-text",attrs:{for:""}},[e._v("Phone")]),s("el-input",{staticClass:"w-100 mb-3",attrs:{placeholder:"Phone number"},model:{value:e.sale.phone,callback:function(t){e.$set(e.sale,"phone",t)},expression:"sale.phone"}}),s("label",{staticClass:"custom-label md-text",attrs:{for:""}},[e._v("State & city")]),s("el-cascader",{attrs:{options:e.options},on:{change:e.handleChangeAddress},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),s("label",{staticClass:"mt-3 custom-label",attrs:{for:"Street address"}},[e._v("Street address")]),s("el-input",{staticClass:"w-100",attrs:{name:"Street address",placeholder:"Street address"},model:{value:e.sale.address.address,callback:function(t){e.$set(e.sale.address,"address",t)},expression:"sale.address.address"}})],1)]),s("div",{staticClass:"col-12 lg-hide mb-3 md-hide"},[s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"my-0 mb-2 w-100",attrs:{disabled:!e.startEditing,loading:e.saving,type:"primary"},on:{click:e.Post}},[s("i",{staticClass:"bx bx-save mr-1"}),e._v("Save ")]),s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"flat w-100 mb-2 mx-0 my-0",attrs:{type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[s("i",{staticClass:"bx bx-x mr-1"}),e._v("Discard ")])],1)])]),s("el-dialog",{staticClass:"default-dialog",attrs:{"show-close":!1,visible:e.openDiscount},on:{"update:visible":function(t){e.openDiscount=t}},scopedSlots:e._u([{key:"title",fn:function(){return[s("div",{staticClass:"d-flex align-items-center justify-content-between"},[s("h5",{staticClass:"my-0"},[e._v("Add discount")]),s("div",{staticClass:"d-flex align-items-center"})])]},proxy:!0},{key:"footer",fn:function(){return[s("div",{staticClass:"d-flex align-items-center justify-content-end"},[s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"my-0 flat mr-0",attrs:{type:"primary"},on:{click:function(t){e.openDiscount=!1}}},[e._v(" Cancel ")]),s("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"my-0 mr-0",attrs:{type:"primary"},on:{click:e.calcDiscount}},[e._v(" Done ")])],1)]},proxy:!0}],null,!1,709193078)},[s("div",{staticClass:"con-content"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6 pr-1"},[s("label",{staticClass:"pt-1 custom-label",attrs:{for:"discountType"}},[e._v("Discount type")]),s("el-select",{staticClass:"w-100",attrs:{name:"discountType"},model:{value:e.sale.discount_type,callback:function(t){e.$set(e.sale,"discount_type",t)},expression:"sale.discount_type"}},[s("el-option",{attrs:{label:"Amount",value:"$"}}),s("el-option",{attrs:{label:"Percentage",value:"%"}})],1)],1),s("div",{staticClass:"col-6 pl-1"},[s("label",{staticClass:"pt-1 custom-label",attrs:{for:"discountType"}},[e._v("Discount value")]),s("el-input",{staticClass:"w-100",attrs:{type:"number"},model:{value:e.discount,callback:function(t){e.discount=t},expression:"discount"}})],1),s("div",{staticClass:"col-12"},[s("label",{staticClass:"pt-1 custom-label",attrs:{for:"reason"}},[e._v("Reason")]),s("el-input",{staticClass:"w-100",attrs:{type:"textarea",row:3,name:"reason"},model:{value:e.sale.discount_reason,callback:function(t){e.$set(e.sale,"discount_reason",t)},expression:"sale.discount_reason"}})],1)])])])],1):e._e()},l=[],i=(s("4de4"),s("4160"),s("d81d"),s("13d5"),s("a434"),s("b0c0"),s("b680"),s("159b"),s("5530")),o=s("2f62"),r=s("e9dd"),n=s("9c83"),c=s("d50a"),d={data:function(){return{url:n["c"],productQuery:"",openCustomProduct:!1,mediaUrl:n["b"],options:r["a"],customProduct:{name:"",is_custom_product:!0,quantity:"1",price:"0",number_of_stock:1e5,image:"images/default.png",variation_product:null,product:null,subtotal:"0"},address:[],customers:[],deliveries:[],inventory:[],loadingProduct:!1,loadingCustomer:!1,loadingDelivey:!1,tax:5,discount:0,selectedProduct:"",openDiscount:!1,saving:!1,sale:{payment_status:"Unpaid",supplier_percentage:"5",money_price:"300",customer_name:"",location_name:"",status:"Active",tax_rate:5,delivery_company_name:null,delivery_date:null,payment_method:null,type:"In Stock",exported_by:"",location:1,payments:[],address:{state:"",city:"",address:"",map:""},products:[],timelines:[],subtotal:"",total:"0",discount:"0",discount_reason:"",discount_type:"$",is_same_address:!1,tax:"",note:"note",tags:[],phone:"",date:""},selectedCustomer:{},loading:null,startEditing:!1,activePayment:!1,adding:!1,due_amount:0,query:"",products:[],loadingEmployee:!1,employees:[]}},components:{file:c["c"],empty:c["b"]},watch:{sale:{handler:function(){this.startEditing=!0},deep:!0},productQuery:function(e){this.sale.products.push({quantity:"1",sale_price:e.price,subtotal:e.price,name:e.name,image:e.image,primary_price:"0",primary_price_myanmar:e.cost_per_item,number_of_fullfilled:0,product_id:e.id})},locations:{handler:function(e){this.sale.location=e[0].id,this.sale.location_name=e[0].name},deep:!0}},mounted:function(){var e=this;setTimeout((function(){e.startEditing=!1}),100),this.sale.date=this.$moment().format("DD/MM/YYYY"),this.$store.commit("setIsReady",!0)},beforeMount:function(){var e=this;window.addEventListener("beforeunload",this.preventNav),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("beforeunload",e.preventNav)})),document.addEventListener("scan",this.onScan),this.$once("hook:beforeDestroy",(function(){document.removeEventListener("scan",e.onScan)}))},beforeDestroy:function(){document.removeEventListener("scan",this.onScan)},beforeRouteLeave:function(e,t,s){document.removeEventListener("scan",this.onScan),this.startEditing?this.$smalltalk.confirm("Question","Do you really want to leave? you have unsaved changes!").then((function(){s()})).catch((function(){s(!1)})):s()},methods:{onScan:function(e){var t=this,s=e.detail;this.loadingProduct=!0,s.scanCode&&this.$axios.get("product/search/?query="+s.scanCode).then((function(e){if(t.loadingProduct=!1,e.data.length>0){var a=e.data[0],l=t.sale.products.filter((function(e){return e.product_id==a.id}));l.length>0?t.sale.products.map((function(e){e.product_id==a.id&&(e.quantity=e.quantity+1)})):t.sale.products.push({quantity:"1",sale_price:a.price,subtotal:a.price,name:a.name,image:a.image,primary_price:"0",primary_price_myanmar:a.cost_per_item,number_of_fullfilled:0,product_id:a.id})}else t.$noti.display({message:"No products found with "+s.scanCode,title:"",status:"success",color:"error"})})).catch((function(e){t.loadingProduct=!1,t.$noti.display({message:e,title:"",status:"error",color:"error"})}))},getEmployees:function(e){var t=this;this.loadingEmployee=!0,""!==e&&e||(e="Null"),this.$axios.get("search-employee/?query="+e).then((function(e){t.loadingEmployee=!1,t.employees=e.data})).catch((function(e){t.loadingEmployee=!1,t.$noti.display({message:e,title:"",status:"error",color:"error"})}))},preventNav:function(e){this.startEditing&&(e.preventDefault(),e.returnValue="")},handleChangeAddress:function(e){this.sale.address.state=e[0],this.sale.address.city=e[1]},setImage:function(e,t){e.length>0&&(this.sale.products[t].image=e[0].image)},addItem:function(){this.sale.products.push({quantity:"1",sale_price:"",subtotal:"",name:"",image:"/media/default.png",link:null,primary_price:null,primary_price_myanmar:null,number_of_fullfilled:0,product_id:""}),this.calcSubtotal()},removeProduct:function(e){this.sale.products.splice(e,1),this.calcSubtotal()},getCustomers:function(e){var t=this;this.loadingCustomer=!0,""!==e&&e||(e="Null"),this.$axios.get("search-customer/?query="+e).then((function(e){t.loadingCustomer=!1,t.customers=e.data})).catch((function(e){t.loadingCustomer=!1,t.$noti.display({message:e,title:"",status:"error",color:"error"})}))},getDeliveries:function(e){var t=this;this.loadingDelivery=!0,""!==e&&e||(e="Null"),this.$axios.get("search-delivery/?query="+e).then((function(e){t.loadingDelivery=!1,t.deliveries=e.data})).catch((function(e){t.loadingDelivery=!1,t.$noti.display({message:e,title:"",status:"error",color:"error"})}))},getProducts:function(e){var t=this;this.loadingProduct=!0,""!==e&&e||(e="Null"),this.$axios.get("product/search/?query="+e).then((function(e){t.loadingProduct=!1,t.products=e.data})).catch((function(e){t.loadingProduct=!1,t.$noti.display({message:e,title:"",status:"error",color:"error"})}))},changeCustomer:function(){var e=this,t=this.customers.filter((function(t){return t.name==e.sale.customer_name}));t.length>0&&(this.selectedCustomer=t[0],this.selectedCustomer.phone&&(this.sale.phone=this.selectedCustomer.phone),this.selectedCustomer.address&&(this.sale.address=this.selectedCustomer.address,this.address=[this.selectedCustomer.address.state,this.selectedCustomer.address.city]))},calcDiscount:function(){"%"===this.sale.discount_type?this.sale.discount=parseFloat(this.discount)/100*parseFloat(this.sale.subtotal):this.sale.discount=parseFloat(this.discount),this.openDiscount=!1,this.calcTotal()},calcTotal:function(){"supplier"===this.store.type?this.sale.total=(parseFloat(this.sale.subtotal)+parseFloat(this.sale.subtotal)*(parseFloat(this.sale.supplier_percentage)/100)-parseFloat(this.sale.discount)).toFixed(0):this.sale.total=(parseFloat(this.sale.subtotal)-parseFloat(this.sale.discount)).toFixed(0)},calcSubtotal:function(){this.sale.subtotal=this.sale.products.reduce((function(e,t){return e+parseFloat(t.subtotal)}),0).toFixed(2),this.calcDiscount()},changeQuantity:function(e){this.sale.products[e].subtotal=(parseFloat(this.sale.products[e].sale_price)*parseFloat(this.sale.products[e].quantity)).toFixed(2),this.calcSubtotal()},calcPrice:function(e){this.sale.products[e].sale_price&&this.sale.products[e].primary_price_myanmar?(this.sale.products[e].profit=parseFloat(this.sale.products[e].sale_price-this.sale.products[e].primary_price_myanmar),this.sale.products[e].margin=(this.sale.products[e].profit/this.sale.products[e].sale_price*100).toFixed(2)):(this.sale.products[e].margin=null,this.sale.products[e].profit=null),this.changeQuantity(e)},calcAllProductPrice:function(){var e=this,t=[];this.sale.products.forEach((function(s,a){s.primary_price_myanmar=((parseFloat(s.primary_price)*(parseFloat(e.sale.supplier_percentage)/100)+parseFloat(s.primary_price))*e.sale.money_price).toFixed(0),e.calcPrice(a),t.push(s)}));var s=JSON.stringify(t);setTimeout((function(){e.sale.products=[],e.sale.products=JSON.parse(s)}),500)},changePrimaryPrice:function(e,t){var s=parseFloat(this.sale.supplier_percentage)/100;this.sale.products[t].primary_price_myanmar=parseFloat((parseFloat(e)*s+parseFloat(e))*this.sale.money_price);var a=JSON.stringify(this.sale.products);this.sale.products=[],this.sale.products=JSON.parse(a),this.calcPrice(t)},Post:function(){var e=this;this.saving=!0,this.sale.store=this.store.id,this.$axios.post("sale/",{data:this.sale}).then((function(t){e.startEditing=!1,e.saving=!1,e.$noti.display({title:"Success",color:"success",message:"Cool! Sale has been successfully added."}),e.$router.push({name:"Edit order",params:{id:t.data.id}})})).catch((function(t){e.saving=!1,e.$noti.display({message:t,title:"",status:"error",color:"error"})}))},changeIsSame:function(){this.sale.is_same_address?this.sale.shipping_address=this.sale.address:this.sale.shipping_address={state:"",city:"",address:"",map:""}}},computed:Object(i["a"])({},Object(o["c"])(["isReady","locations","store"]))},u=d,p=s("2877"),m=Object(p["a"])(u,a,l,!1,null,null,null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-2d0c22a7.4501e755.js.map