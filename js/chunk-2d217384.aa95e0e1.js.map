{"version":3,"sources":["webpack:///./src/components/screens/DeliveryHistory/create.vue","webpack:///src/components/screens/DeliveryHistory/create.vue","webpack:///./src/components/screens/DeliveryHistory/create.vue?8da8","webpack:///./src/components/screens/DeliveryHistory/create.vue?4d58"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","modifiers","attrs","on","$event","$router","go","_v","key","delivery","image","setImage","model","value","order_id","callback","$$v","$set","expression","getDeliveries","loadingDelivey","delivery_name","_l","deliveries","id","startEditing","saving","Post","staticRenderFns","data","url","mediaUrl","components","file","watch","handler","deep","mounted","setTimeout","$store","commit","beforeMount","window","addEventListener","preventNav","$once","removeEventListener","beforeRouteLeave","to","from","next","$smalltalk","confirm","then","catch","methods","query","loadingDelivery","$axios","get","response","err","$noti","display","message","title","status","color","event","preventDefault","returnValue","store","post","computed","mapState","component"],"mappings":"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","file":"js/chunk-2d217384.aa95e0e1.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 mt-3\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between mb-3\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"no-width my-0 flat\",attrs:{\"type\":\"primary\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"bx bx-left-arrow-alt\"})]),_c('h5',{staticClass:\"my-0 ml-2\"},[_vm._v(\"Add Delivery\")])],1),_c('div',{staticClass:\"flex-align-center flex-end\"})]),_c('div',{staticClass:\"col-lg-8 col-md-cu-8 pr-lg-0\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"flex-x-between\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 mb-3\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Media\"}},[_vm._v(\"Media\")]),_c('file',{key:_vm.delivery.name,attrs:{\"initialData\":_vm.delivery.image ? [{ image: _vm.delivery.image }] : [{}]},on:{\"completed\":_vm.setImage}})],1),_c('div',{staticClass:\"col-12 mb-3\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Name\"}},[_vm._v(\"Order ID\")]),_c('el-input',{staticClass:\"w-100\",attrs:{\"name\":\"Name\"},model:{value:(_vm.delivery.order_id),callback:function ($$v) {_vm.$set(_vm.delivery, \"order_id\", $$v)},expression:\"delivery.order_id\"}})],1),_c('div',{staticClass:\"col-12 mb-3\"},[_c('label',{staticClass:\"custom-label md-text\",attrs:{\"for\":\"\"}},[_vm._v(\"Delivery\")]),_c('el-select',{staticClass:\"w-100\",attrs:{\"filterable\":\"\",\"remote\":\"\",\"reserve-keyword\":\"\",\"allow-create\":\"\",\"placeholder\":\"Select or create new\",\"remote-method\":_vm.getDeliveries,\"loading\":_vm.loadingDelivey},model:{value:(_vm.delivery.delivery_name),callback:function ($$v) {_vm.$set(_vm.delivery, \"delivery_name\", $$v)},expression:\"delivery.delivery_name\"}},_vm._l((_vm.deliveries),function(delivery){return _c('el-option',{key:delivery.id,attrs:{\"label\":delivery.name,\"value\":delivery.name}})}),1)],1),_c('div',{staticClass:\"col-12\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"my-0 w-100\",attrs:{\"disabled\":!_vm.startEditing,\"loading\":_vm.saving,\"type\":\"primary\"},on:{\"click\":_vm.Post}},[_c('i',{staticClass:\"bx bx-save mr-1\"}),_vm._v(\"Save \")])],1)])])])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"row\">\n    <div class=\"col-12 mt-3\">\n      <div class=\"row\">\n        <div class=\"col-12 flex-x-between mb-3\">\n          <div class=\"flex-align-center\">\n            <el-button\n              v-ripple.400\n              type=\"primary\"\n              circle\n              class=\"no-width my-0 flat\"\n              @click=\"$router.go(-1)\"\n            >\n              <i class=\"bx bx-left-arrow-alt\"></i>\n            </el-button>\n            <h5 class=\"my-0 ml-2\">Add Delivery</h5>\n          </div>\n          <div class=\"flex-align-center flex-end\"></div>\n        </div>\n        <div class=\"col-lg-8 col-md-cu-8 pr-lg-0\">\n          <div class=\"box\">\n            <div class=\"flex-x-between\">\n              <div class=\"row\">\n                <div class=\"col-12 mb-3\">\n                  <label for=\"Media\" class=\"custom-label\">Media</label>\n                  <file\n                    :key=\"delivery.name\"\n                    @completed=\"setImage\"\n                    :initialData=\"\n                      delivery.image ? [{ image: delivery.image }] : [{}]\n                    \"\n                  />\n                </div>\n                <div class=\"col-12 mb-3\">\n                  <label for=\"Name\" class=\"custom-label\">Order ID</label>\n                  <el-input\n                    class=\"w-100\"\n                    name=\"Name\"\n                    v-model=\"delivery.order_id\"\n                  ></el-input>\n                </div>\n\n                <div class=\"col-12 mb-3\">\n                  <label for=\"\" class=\"custom-label md-text\">Delivery</label>\n                  <el-select\n                    v-model=\"delivery.delivery_name\"\n                    filterable\n                    remote\n                    reserve-keyword\n                    class=\"w-100\"\n                    allow-create\n                    placeholder=\"Select or create new\"\n                    :remote-method=\"getDeliveries\"\n                    :loading=\"loadingDelivey\"\n                  >\n                    <el-option\n                      v-for=\"delivery in deliveries\"\n                      :key=\"delivery.id\"\n                      :label=\"delivery.name\"\n                      :value=\"delivery.name\"\n                    >\n                    </el-option>\n                  </el-select>\n                </div>\n                <div class=\"col-12\">\n                  <el-button\n                    :disabled=\"!startEditing\"\n                    :loading=\"saving\"\n                    v-ripple.400\n                    @click=\"Post\"\n                    class=\"my-0 w-100\"\n                    type=\"primary\"\n                  >\n                    <i class=\"bx bx-save mr-1\"></i>Save\n                  </el-button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport { url, mediaUrl } from \"../../../core/constant/data\";\nimport { file } from \"../../common\";\n\nexport default {\n  data() {\n    return {\n      url: url,\n      mediaUrl: mediaUrl,\n      loadingDelivey: false,\n      delivery: {\n        delivery_name: \"\",\n        order_id: \"\",\n        image: \"media/default.png\",\n      },\n      saving: false,\n      startEditing: false,\n      deliveries: [],\n    };\n  },\n  components: { file },\n  watch: {\n    delivery: {\n      handler: function () {\n        this.startEditing = true;\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    setTimeout(() => {\n      this.startEditing = false;\n    }, 100);\n    this.$store.commit(\"setIsReady\", true);\n  },\n  beforeMount() {\n    window.addEventListener(\"beforeunload\", this.preventNav);\n    this.$once(\"hook:beforeDestroy\", () => {\n      window.removeEventListener(\"beforeunload\", this.preventNav);\n    });\n  },\n  beforeRouteLeave(to, from, next) {\n    if (this.startEditing) {\n      this.$smalltalk\n        .confirm(\n          \"Question\",\n          \"Do you really want to leave? you have unsaved changes!\"\n        )\n        .then(() => {\n          next();\n        })\n        .catch(() => {\n          next(false);\n        });\n    } else {\n      next();\n    }\n  },\n  methods: {\n    getDeliveries(query) {\n      this.loadingDelivery = true;\n      if (query === \"\" || !query) {\n        query = \"Null\";\n      }\n      this.$axios\n        .get(\"search-delivery/?query=\" + query)\n        .then((response) => {\n          this.loadingDelivery = false;\n          this.deliveries = response.data;\n        })\n        .catch((err) => {\n          this.loadingDelivery = false;\n          this.$noti.display({\n            message: err,\n            title: \"\",\n            status: \"error\",\n            color: \"error\",\n          });\n        });\n    },\n    preventNav(event) {\n      if (!this.startEditing) return;\n      event.preventDefault();\n      event.returnValue = \"\";\n    },\n\n    setImage($event) {\n      this.delivery.image = $event[0].image;\n    },\n\n    Post() {\n      this.saving = true;\n      this.store = this.store.id;\n      this.$axios\n        .post(\"delivery-history/\", { data: this.delivery })\n        .then(() => {\n          this.startEditing = false;\n          this.saving = false;\n          this.$noti.display({\n            title: \"Success\",\n            color: \"success\",\n            message: \"Cool! Sale has been successfully added.\",\n          });\n          this.delivery = {\n            delivery_name: \"\",\n            order_id: \"\",\n            image: \"media/default.png\",\n          };\n        })\n        .catch((err) => {\n          this.saving = false;\n          this.$noti.display({\n            message: err,\n            title: \"\",\n            status: \"error\",\n            color: \"error\",\n          });\n        });\n    },\n  },\n  computed: {\n    ...mapState([\"isReady\", \"store\"]),\n  },\n};\n</script>\n\n","import mod from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/@vue/cli-plugin-babel/node_modules/thread-loader/dist/cjs.js!../../../../node_modules/@vue/cli-plugin-babel/node_modules/babel-loader/lib/index.js!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=59c86c70&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}