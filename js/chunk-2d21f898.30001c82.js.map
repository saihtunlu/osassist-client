{"version":3,"sources":["webpack:///./src/components/screens/product/view.vue?f480","webpack:///src/components/screens/product/view.vue","webpack:///./src/components/screens/product/view.vue?e1ed","webpack:///./src/components/screens/product/view.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","modifiers","attrs","on","$event","$router","go","_v","_s","product","startEditing","saving","Post","key","image","setImage","model","value","callback","$$v","$set","expression","store","type","_e","staticRenderFns","data","url","mediaUrl","number_of_stock","price","cost_per_item","barcode","productBeforeEdit","components","watch","handler","deep","mounted","setTimeout","filterProduct","beforeMount","window","addEventListener","preventNav","$once","removeEventListener","beforeRouteLeave","$smalltalk","next","methods","event","preventDefault","returnValue","gettingSale","$axios","id","computed","component"],"mappings":"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","file":"js/chunk-2d21f898.30001c82.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 mt-3\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between mb-3\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"no-width my-0 flat\",attrs:{\"type\":\"primary\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"bx bx-left-arrow-alt\"})]),_c('h5',{staticClass:\"my-0 ml-2\"},[_vm._v(_vm._s(_vm.product.name))])],1),_c('div',{staticClass:\"flex-align-center flex-end\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"flat my-0\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"bx bx-x mr-1\"}),_vm._v(\"Discard \")]),_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"my-0\",attrs:{\"disabled\":!_vm.startEditing,\"loading\":_vm.saving,\"type\":\"primary\"},on:{\"click\":_vm.Post}},[_c('i',{staticClass:\"bx bx-save mr-1\"}),_vm._v(\"Save \")])],1)]),_c('div',{staticClass:\"col-lg-8 col-md-cu-8 pr-lg-0\"},[_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"flex-x-between\"},[_c('div',{staticClass:\"row mb-3\"},[_c('div',{staticClass:\"col-12 mb-3\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Media\"}},[_vm._v(\"Media\")]),_c('file',{key:_vm.product.name,attrs:{\"initialData\":_vm.product.image ? [{ image: _vm.product.image }] : [{}]},on:{\"completed\":_vm.setImage}})],1),_c('div',{staticClass:\"col-12 mb-3\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Name\"}},[_vm._v(\"Name\")]),_c('el-input',{staticClass:\"w-100\",attrs:{\"name\":\"Name\"},model:{value:(_vm.product.name),callback:function ($$v) {_vm.$set(_vm.product, \"name\", $$v)},expression:\"product.name\"}})],1),(_vm.store.type !== 'supplier')?_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Link\"}},[_vm._v(\"Price per item (MMK)\")]),_c('el-input',{staticClass:\"w-100\",attrs:{\"type\":\"number\"},model:{value:(_vm.product.cost_per_item),callback:function ($$v) {_vm.$set(_vm.product, \"cost_per_item\", $$v)},expression:\"product.cost_per_item\"}})],1):_vm._e(),_c('div',{staticClass:\"col-lg-6 mb-3\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Link\"}},[_vm._v(\"Selling Price(MMK)\")]),_c('el-input',{staticClass:\"w-100\",attrs:{\"name\":\"Sale Price(MMK)\",\"type\":\"number\"},model:{value:(_vm.product.price),callback:function ($$v) {_vm.$set(_vm.product, \"price\", $$v)},expression:\"product.price\"}})],1),_c('div',{staticClass:\"col-6\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Link\"}},[_vm._v(\"Quantity\")]),_c('el-input-number',{staticClass:\"w-100\",attrs:{\"min\":0,\"controls-position\":\"right\"},model:{value:(_vm.product.number_of_stock),callback:function ($$v) {_vm.$set(_vm.product, \"number_of_stock\", $$v)},expression:\"product.number_of_stock\"}})],1),_c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Link\"}},[_vm._v(\"Barcode\")]),_c('el-input',{staticClass:\"w-100\",model:{value:(_vm.product.barcode),callback:function ($$v) {_vm.$set(_vm.product, \"barcode\", $$v)},expression:\"product.barcode\"}})],1)])])])])])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"row\" v-if=\"isReady\">\r\n    <div class=\"col-12 mt-3\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12 flex-x-between mb-3\">\r\n          <div class=\"flex-align-center\">\r\n            <el-button\r\n              v-ripple.400\r\n              type=\"primary\"\r\n              circle\r\n              class=\"no-width my-0 flat\"\r\n              @click=\"$router.go(-1)\"\r\n            >\r\n              <i class=\"bx bx-left-arrow-alt\"></i>\r\n            </el-button>\r\n            <h5 class=\"my-0 ml-2\">{{ product.name }}</h5>\r\n          </div>\r\n          <div class=\"flex-align-center flex-end\">\r\n            <el-button\r\n              @click=\"$router.go(-1)\"\r\n              type=\"primary\"\r\n              v-ripple.400\r\n              class=\"flat my-0\"\r\n            >\r\n              <i class=\"bx bx-x mr-1\"></i>Discard\r\n            </el-button>\r\n            <el-button\r\n              :disabled=\"!startEditing\"\r\n              :loading=\"saving\"\r\n              v-ripple.400\r\n              @click=\"Post\"\r\n              class=\"my-0\"\r\n              type=\"primary\"\r\n            >\r\n              <i class=\"bx bx-save mr-1\"></i>Save\r\n            </el-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-8 col-md-cu-8 pr-lg-0\">\r\n          <div class=\"box\">\r\n            <div class=\"flex-x-between\">\r\n              <div class=\"row mb-3\">\r\n                <div class=\"col-12 mb-3\">\r\n                  <label for=\"Media\" class=\"custom-label\">Media</label>\r\n                  <file\r\n                    :key=\"product.name\"\r\n                    @completed=\"setImage\"\r\n                    :initialData=\"\r\n                      product.image ? [{ image: product.image }] : [{}]\r\n                    \"\r\n                  />\r\n                </div>\r\n                <div class=\"col-12 mb-3\">\r\n                  <label for=\"Name\" class=\"custom-label\">Name</label>\r\n                  <el-input\r\n                    class=\"w-100\"\r\n                    name=\"Name\"\r\n                    v-model=\"product.name\"\r\n                  ></el-input>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6 mb-3\" v-if=\"store.type !== 'supplier'\">\r\n                  <label for=\"Link\" class=\"custom-label\"\r\n                    >Price per item (MMK)</label\r\n                  >\r\n                  <el-input\r\n                    class=\"w-100\"\r\n                    type=\"number\"\r\n                    v-model=\"product.cost_per_item\"\r\n                  ></el-input>\r\n                </div>\r\n                <div class=\"col-lg-6 mb-3\">\r\n                  <label for=\"Link\" class=\"custom-label\"\r\n                    >Selling Price(MMK)</label\r\n                  >\r\n                  <el-input\r\n                    class=\"w-100\"\r\n                    name=\"Sale Price(MMK)\"\r\n                    type=\"number\"\r\n                    v-model=\"product.price\"\r\n                  ></el-input>\r\n                </div>\r\n\r\n                <div class=\"col-6\">\r\n                  <label for=\"Link\" class=\"custom-label\">Quantity</label>\r\n                  <el-input-number\r\n                    :min=\"0\"\r\n                    class=\"w-100\"\r\n                    controls-position=\"right\"\r\n                    v-model=\"product.number_of_stock\"\r\n                  ></el-input-number>\r\n                </div>\r\n\r\n                <div class=\"col-lg-6\">\r\n                  <label for=\"Link\" class=\"custom-label\">Barcode</label>\r\n                  <el-input class=\"w-100\" v-model=\"product.barcode\"></el-input>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { url, mediaUrl } from \"../../../core/constant/data\";\r\nimport { file } from \"../../common\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      url: url,\r\n      mediaUrl: mediaUrl,\r\n      product: {\r\n        name: \"\",\r\n        number_of_stock: \"1\",\r\n        price: \"0\",\r\n        cost_per_item: \"0\",\r\n        image: \"media/default.png\",\r\n        barcode: null,\r\n      },\r\n      saving: false,\r\n      startEditing: false,\r\n      productBeforeEdit: \"\",\r\n    };\r\n  },\r\n  components: { file },\r\n  watch: {\r\n    product: {\r\n      handler: function () {\r\n        this.startEditing = true;\r\n      },\r\n      deep: true,\r\n    },\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      this.startEditing = false;\r\n    }, 100);\r\n    this.filterProduct();\r\n  },\r\n  beforeMount() {\r\n    window.addEventListener(\"beforeunload\", this.preventNav);\r\n    this.$once(\"hook:beforeDestroy\", () => {\r\n      window.removeEventListener(\"beforeunload\", this.preventNav);\r\n    });\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    if (this.startEditing) {\r\n      this.$smalltalk\r\n        .confirm(\r\n          \"Question\",\r\n          \"Do you really want to leave? you have unsaved changes!\"\r\n        )\r\n        .then(() => {\r\n          next();\r\n        })\r\n        .catch(() => {\r\n          next(false);\r\n        });\r\n    } else {\r\n      next();\r\n    }\r\n  },\r\n  methods: {\r\n    preventNav(event) {\r\n      if (!this.startEditing) return;\r\n      event.preventDefault();\r\n      event.returnValue = \"\";\r\n    },\r\n\r\n    setImage($event) {\r\n      this.product.image = $event[0].image;\r\n    },\r\n\r\n    filterProduct() {\r\n      this.gettingSale = true;\r\n      this.$axios\r\n        .get(\"product/?id=\" + this.$route.params.id)\r\n        .then((response) => {\r\n          this.product = response.data;\r\n          setTimeout(() => {\r\n            this.startEditing = false;\r\n            this.gettingSale = false;\r\n          }, 1);\r\n          this.$store.commit(\"setIsReady\", true);\r\n        })\r\n        .catch((err) => {\r\n          this.$noti.display({\r\n            message: err,\r\n            status: \"error\",\r\n            color: \"error\",\r\n          });\r\n        });\r\n    },\r\n\r\n    Post() {\r\n      this.saving = true;\r\n      this.store = this.store.id;\r\n      this.$axios\r\n        .put(\"product/\", { data: this.product })\r\n        .then((res) => {\r\n          this.product = res.data;\r\n\r\n          this.saving = false;\r\n          this.$noti.display({\r\n            title: \"Success\",\r\n            color: \"success\",\r\n            message: \"Cool! Sale has been successfully added.\",\r\n          });\r\n          setTimeout(() => {\r\n            this.startEditing = false;\r\n          }, 100);\r\n        })\r\n        .catch((err) => {\r\n          this.saving = false;\r\n          this.$noti.display({\r\n            message: err,\r\n            title: \"\",\r\n            status: \"error\",\r\n            color: \"error\",\r\n          });\r\n        });\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"isReady\", \"store\"]),\r\n  },\r\n};\r\n</script>\r\n\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./view.vue?vue&type=template&id=4e72fc5d&\"\nimport script from \"./view.vue?vue&type=script&lang=js&\"\nexport * from \"./view.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}