{"version":3,"sources":["webpack:///./src/components/screens/setting/billing/create.vue?6345","webpack:///./src/components/screens/setting/billing/create.vue","webpack:///src/components/screens/setting/billing/create.vue","webpack:///./src/components/screens/setting/billing/create.vue?bc7e","webpack:///./src/components/screens/setting/billing/create.vue?8ba7"],"names":["render","_vm","this","_c","_self","staticClass","isReady","directives","name","rawName","modifiers","attrs","on","$event","$router","go","_v","_l","packages","item","index","key","model","value","selectedPackage","callback","$$v","expression","_s","price","monthQuantity","save","_e","length","paymentMethods","billing","payments","payment_method","$set","payment_number","payment_status","setImages","date","checkPayment","amount","note","selected_plan","active","JSON","parse","features","feature","total","number_of_months","saving","Post","staticRenderFns","data","url","startEditing","store","images","subtotal","status","components","file","watch","handler","val","deep","created","$route","query","pid","push","$store","commit","$moment","format","getPaymentMethods","getPlan","mounted","computed","mapState","mapGetters","beforeMount","window","addEventListener","preventNav","$once","removeEventListener","beforeRouteLeave","to","from","next","$smalltalk","confirm","then","catch","methods","event","preventDefault","returnValue","forEach","image","$axios","get","response","err","$noti","display","message","color","post","title","component"],"mappings":"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","file":"js/chunk-67515164.3ff78c5b.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=style&index=0&id=59d28486&prod&lang=css&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"billing row\"},[(_vm.isReady)?_c('div',{staticClass:\"col-12 mt-3\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between mb-3\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"no-width flat\",attrs:{\"type\":\"primary\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"bx bx-left-arrow-alt\"})]),_c('h5',{staticClass:\"my-0 ml-2\"},[_vm._v(\"Billing\")])],1)]),_c('div',{staticClass:\"col-lg-8\"},[_c('div',{staticClass:\"box\"},[_c('p',{staticClass:\"mt-0 mb-2 text-bold\"},[_vm._v(\"Billing cycle\")]),_c('div',{staticClass:\"row package-box mx-0 mt-3\"},_vm._l((_vm.packages),function(item,index){return _c('div',{key:item.name,staticClass:\"col-12 package\"},[_c('el-radio',{attrs:{\"label\":item},model:{value:(_vm.selectedPackage),callback:function ($$v) {_vm.selectedPackage=$$v},expression:\"selectedPackage\"}},[_c('div',{staticClass:\"w-100 flex-x-between\"},[_c('div',[_c('span',{staticClass:\"font-weight-bold mr-3\"},[_vm._v(_vm._s(item.name))]),_c('span',{staticClass:\"gray\"},[_vm._v(\"(\"+_vm._s(item.price)+\"MMK \"),(item.monthQuantity == 1)?_c('span',[_vm._v(\"in every month\")]):_c('span',[_vm._v(\" x \"+_vm._s(item.monthQuantity)+\" months\")]),_vm._v(\")\")])]),(item.monthQuantity !== 1)?_c('p',{staticClass:\"primary\"},[_vm._v(\" Save \"+_vm._s(item.save)+\"MMK \")]):_vm._e()])]),(index !== _vm.packages.length - 1)?_c('div',{staticClass:\"b-divider\"}):_vm._e()],1)}),0)]),_c('div',{staticClass:\"box mt-3\"},[_c('p',{staticClass:\"mt-0 mb-2 text-bold\"},[_vm._v(\"Payment methods\")]),_c('div',{staticClass:\"row package-box mx-0 mt-3\"},_vm._l((_vm.paymentMethods),function(item,index){return _c('div',{key:item.name,staticClass:\"col-12 package\"},[_c('el-radio',{attrs:{\"label\":item},model:{value:(_vm.billing.payments[0].payment_method),callback:function ($$v) {_vm.$set(_vm.billing.payments[0], \"payment_method\", $$v)},expression:\"billing.payments[0].payment_method\"}},[_c('div',{staticClass:\"w-100 flex-x-between\"},[_c('div',[_c('span',{staticClass:\"font-weight-bold mr-3\"},[_vm._v(_vm._s(item.name))]),_c('br'),_c('span',{staticClass:\"gray\"},[_vm._v(\"Account number : \"+_vm._s(item.payment_number))])])])]),(index !== _vm.paymentMethods.length - 1)?_c('div',{staticClass:\"b-divider\"}):_vm._e()],1)}),0)]),_c('div',{staticClass:\"box mt-3\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('p',{staticClass:\"mt-0 mb-2 text-bold\"},[_vm._v(\"Payment\")]),_c('span',{staticClass:\"gray mb-2\"},[_vm._v(\"(\"+_vm._s(_vm.billing.payment_status)+\")\")])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 mb-3\"},[_c('label',{staticClass:\"custom-label mt-1 md-text\",attrs:{\"for\":\"\"}},[_vm._v(\"Screenshots\")]),_c('file',{attrs:{\"multiple\":true},on:{\"completed\":_vm.setImages}})],1),_c('div',{staticClass:\"col-6\"},[_c('label',{staticClass:\"custom-label md-text\",attrs:{\"for\":\"\"}},[_vm._v(\"Date\")]),_c('el-date-picker',{staticClass:\"w-100\",attrs:{\"type\":\"date\",\"format\":\"dd/MM/yyyy\",\"value-format\":\"dd/MM/yyyy\",\"placeholder\":\"Pick a date\"},model:{value:(_vm.billing.payments[0].date),callback:function ($$v) {_vm.$set(_vm.billing.payments[0], \"date\", $$v)},expression:\"billing.payments[0].date\"}})],1),_c('div',{staticClass:\"col-6\"},[_c('label',{staticClass:\"custom-label\",attrs:{\"for\":\"Amount\"}},[_vm._v(\"Amount\")]),_c('el-input',{staticClass:\"w-100\",attrs:{\"name\":\"Amount\",\"type\":\"number\"},on:{\"change\":_vm.checkPayment},model:{value:(_vm.billing.payments[0].amount),callback:function ($$v) {_vm.$set(_vm.billing.payments[0], \"amount\", $$v)},expression:\"billing.payments[0].amount\"}})],1)])])]),_c('div',{staticClass:\"col-lg-4 pl-lg-0 mt-3 mt-lg-0\"},[_c('div',{staticClass:\"mb-3 box\"},[_c('label',{staticClass:\"custom-label mt-2 mb-0\"},[_vm._v(\"Note\")]),_c('el-input',{attrs:{\"type\":\"textarea\",\"row\":3},model:{value:(_vm.billing.note),callback:function ($$v) {_vm.$set(_vm.billing, \"note\", $$v)},expression:\"billing.note\"}})],1),_c('div',{staticClass:\"box\"},[_c('h5',{staticClass:\"my-0\"},[_vm._v(_vm._s(_vm.billing.selected_plan.name)+\" Plan\")]),_c('div',{staticClass:\"b-divider mb-0\"}),_c('el-collapse',{model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('el-collapse-item',{staticClass:\"plan-features\",attrs:{\"title\":\"PLAN DETAILS\",\"name\":\"1\"}},_vm._l((JSON.parse(_vm.billing.selected_plan.features)),function(feature){return _c('p',{key:feature},[_vm._v(\" \"+_vm._s(feature)+\" \")])}),0)],1),_c('div',{staticClass:\"b-divider mt-0\"}),_c('div',{staticClass:\"flex-x-between\"},[_c('p',{staticClass:\"text-bold\"},[_vm._v(\"Total:\")]),_c('p',{},[_vm._v(_vm._s(_vm.billing.total)+\"MMK\")])]),_c('el-button',{staticClass:\"w-100 mx-0 mb-0 mt-3\",attrs:{\"type\":\"primary\",\"disabled\":_vm.billing.payments[0].amount == 0 || _vm.billing.number_of_months == 0,\"loading\":_vm.saving},on:{\"click\":_vm.Post}},[_vm._v(\"Submit\")])],1)])])]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"billing row\">\r\n    <div class=\"col-12 mt-3\" v-if=\"isReady\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12 flex-x-between mb-3\">\r\n          <div class=\"flex-align-center\">\r\n            <el-button\r\n              v-ripple.400\r\n              type=\"primary\"\r\n              circle\r\n              class=\"no-width flat\"\r\n              @click=\"$router.go(-1)\"\r\n            >\r\n              <i class=\"bx bx-left-arrow-alt\"></i>\r\n            </el-button>\r\n            <h5 class=\"my-0 ml-2\">Billing</h5>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-8\">\r\n          <div class=\"box\">\r\n            <p class=\"mt-0 mb-2 text-bold\">Billing cycle</p>\r\n            <div class=\"row package-box mx-0 mt-3\">\r\n              <div\r\n                class=\"col-12 package\"\r\n                v-for=\"(item, index) in packages\"\r\n                :key=\"item.name\"\r\n              >\r\n                <el-radio v-model=\"selectedPackage\" :label=\"item\">\r\n                  <div class=\"w-100 flex-x-between\">\r\n                    <div>\r\n                      <span class=\"font-weight-bold mr-3\">{{ item.name }}</span>\r\n                      <span class=\"gray\"\r\n                        >({{ item.price }}MMK\r\n                        <span v-if=\"item.monthQuantity == 1\"\r\n                          >in every month</span\r\n                        ><span v-else>\r\n                          x\r\n                          {{ item.monthQuantity }} months</span\r\n                        >)</span\r\n                      >\r\n                    </div>\r\n                    <p class=\"primary\" v-if=\"item.monthQuantity !== 1\">\r\n                      Save {{ item.save }}MMK\r\n                    </p>\r\n                  </div>\r\n                </el-radio>\r\n                <div\r\n                  class=\"b-divider\"\r\n                  v-if=\"index !== packages.length - 1\"\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"box mt-3\">\r\n            <p class=\"mt-0 mb-2 text-bold\">Payment methods</p>\r\n            <div class=\"row package-box mx-0 mt-3\">\r\n              <div\r\n                class=\"col-12 package\"\r\n                v-for=\"(item, index) in paymentMethods\"\r\n                :key=\"item.name\"\r\n              >\r\n                <el-radio\r\n                  v-model=\"billing.payments[0].payment_method\"\r\n                  :label=\"item\"\r\n                >\r\n                  <div class=\"w-100 flex-x-between\">\r\n                    <div>\r\n                      <span class=\"font-weight-bold mr-3\">{{ item.name }}</span\r\n                      ><br />\r\n                      <span class=\"gray\"\r\n                        >Account number : {{ item.payment_number }}</span\r\n                      >\r\n                    </div>\r\n                  </div>\r\n                </el-radio>\r\n                <div\r\n                  class=\"b-divider\"\r\n                  v-if=\"index !== paymentMethods.length - 1\"\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"box mt-3\">\r\n            <div class=\"flex-align-center\">\r\n              <p class=\"mt-0 mb-2 text-bold\">Payment</p>\r\n              <span class=\"gray mb-2\">({{ billing.payment_status }})</span>\r\n            </div>\r\n            <div class=\"row\">\r\n              <div class=\"col-12 mb-3\">\r\n                <label for=\"\" class=\"custom-label mt-1 md-text\"\r\n                  >Screenshots</label\r\n                >\r\n\r\n                <file :multiple=\"true\" @completed=\"setImages\" />\r\n              </div>\r\n              <div class=\"col-6\">\r\n                <label for=\"\" class=\"custom-label md-text\">Date</label>\r\n                <el-date-picker\r\n                  class=\"w-100\"\r\n                  v-model=\"billing.payments[0].date\"\r\n                  type=\"date\"\r\n                  format=\"dd/MM/yyyy\"\r\n                  value-format=\"dd/MM/yyyy\"\r\n                  placeholder=\"Pick a date\"\r\n                >\r\n                </el-date-picker>\r\n              </div>\r\n              <div class=\"col-6\">\r\n                <label for=\"Amount\" class=\"custom-label\">Amount</label>\r\n                <el-input\r\n                  name=\"Amount\"\r\n                  type=\"number\"\r\n                  @change=\"checkPayment\"\r\n                  class=\"w-100\"\r\n                  v-model=\"billing.payments[0].amount\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-lg-4 pl-lg-0 mt-3 mt-lg-0\">\r\n          <div class=\"mb-3 box\">\r\n            <label class=\"custom-label mt-2 mb-0\">Note</label>\r\n            <el-input\r\n              type=\"textarea\"\r\n              :row=\"3\"\r\n              v-model=\"billing.note\"\r\n            ></el-input>\r\n          </div>\r\n          <div class=\"box\">\r\n            <h5 class=\"my-0\">{{ billing.selected_plan.name }} Plan</h5>\r\n            <div class=\"b-divider mb-0\"></div>\r\n            <el-collapse v-model=\"active\">\r\n              <el-collapse-item\r\n                title=\"PLAN DETAILS\"\r\n                class=\"plan-features\"\r\n                name=\"1\"\r\n              >\r\n                <p\r\n                  v-for=\"feature in JSON.parse(billing.selected_plan.features)\"\r\n                  :key=\"feature\"\r\n                >\r\n                  {{ feature }}\r\n                </p>\r\n              </el-collapse-item>\r\n            </el-collapse>\r\n            <div class=\"b-divider mt-0\"></div>\r\n            <div class=\"flex-x-between\">\r\n              <p class=\"text-bold\">Total:</p>\r\n              <p class=\"\">{{ billing.total }}MMK</p>\r\n            </div>\r\n            <el-button\r\n              type=\"primary\"\r\n              :disabled=\"\r\n                billing.payments[0].amount == 0 || billing.number_of_months == 0\r\n              \"\r\n              @click=\"Post\"\r\n              :loading=\"saving\"\r\n              class=\"w-100 mx-0 mb-0 mt-3\"\r\n              >Submit</el-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapState } from \"vuex\";\r\nimport { url } from \"../../../../core/constant/data\";\r\nimport { file } from \"../../../common\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      url: url,\r\n      saving: false,\r\n      active: \"1\",\r\n      startEditing: false,\r\n      paymentMethods: [],\r\n      billing: {\r\n        store: null,\r\n        selected_plan: null,\r\n        payments: [\r\n          {\r\n            images: [],\r\n            date: null,\r\n            amount: 0,\r\n          },\r\n        ],\r\n        payment_method: null,\r\n        subtotal: null,\r\n        total: null,\r\n        status: \"Pending\",\r\n        payment_status: \"Unpaid\",\r\n        number_of_months: null,\r\n      },\r\n      packages: [\r\n        {\r\n          name: \"Monthly\",\r\n          monthQuantity: 1,\r\n          price: 0,\r\n          save: 0,\r\n        },\r\n        {\r\n          name: \"3 Months\",\r\n          monthQuantity: 3,\r\n          price: 0,\r\n          save: 0,\r\n        },\r\n        {\r\n          name: \"6 Months\",\r\n          monthQuantity: 6,\r\n          price: 0,\r\n          save: 0,\r\n        },\r\n        {\r\n          name: \"Yearly\",\r\n          monthQuantity: 12,\r\n          price: 0,\r\n          save: 0,\r\n        },\r\n        {\r\n          name: \"2 Years\",\r\n          monthQuantity: 24,\r\n          price: 0,\r\n          save: 0,\r\n        },\r\n        {\r\n          name: \"3 Years\",\r\n          monthQuantity: 36,\r\n          price: 0,\r\n          save: 0,\r\n        },\r\n      ],\r\n      selectedPackage: null,\r\n    };\r\n  },\r\n  components: { file },\r\n  watch: {\r\n    selectedPackage: {\r\n      handler: function (val) {\r\n        this.billing.price = val.price;\r\n        this.billing.number_of_months = val.monthQuantity;\r\n        this.billing.total = val.price * val.monthQuantity;\r\n      },\r\n      deep: true,\r\n    },\r\n    store() {\r\n      this.billing.store = this.store;\r\n    },\r\n  },\r\n  created() {\r\n    if (!this.$route.query.pid) {\r\n      this.$router.push({ name: \"Plan\" });\r\n    }\r\n\r\n    this.$store.commit(\"setIsReady\", false);\r\n    this.billing.date = this.$moment().format(\"DD/MM/YYYY\");\r\n    this.billing.payments[0].date = this.$moment().format(\"DD/MM/YYYY\");\r\n    this.getPaymentMethods();\r\n    this.billing.store = this.store;\r\n    this.getPlan(this.$route.query.pid);\r\n  },\r\n  mounted() {},\r\n  computed: {\r\n    ...mapState([\"store\", \"isReady\"]),\r\n    ...mapGetters([\"checkIsReady\"]),\r\n  },\r\n  beforeMount() {\r\n    window.addEventListener(\"beforeunload\", this.preventNav);\r\n    this.$once(\"hook:beforeDestroy\", () => {\r\n      window.removeEventListener(\"beforeunload\", this.preventNav);\r\n    });\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    if (this.startEditing) {\r\n      this.$smalltalk\r\n        .confirm(\r\n          \"Question\",\r\n          \"Do you really want to leave? you have unsaved changes!\"\r\n        )\r\n        .then(() => {\r\n          next();\r\n        })\r\n        .catch(() => {\r\n          next(false);\r\n        });\r\n    } else {\r\n      next();\r\n    }\r\n  },\r\n  methods: {\r\n    preventNav(event) {\r\n      if (!this.startEditing) return;\r\n      event.preventDefault();\r\n      event.returnValue = \"\";\r\n    },\r\n    checkPayment() {\r\n      if (\r\n        this.billing.payments[0].amount == this.billing.total ||\r\n        this.billing.payments[0].amount > this.billing.total\r\n      ) {\r\n        this.billing.payment_status = \"Paid\";\r\n      } else if (this.billing.payments[0].amount < this.billing.total) {\r\n        this.billing.payment_status = \"Partially Paid\";\r\n      } else if (this.billing.payments[0].amount == 0) {\r\n        this.billing.payment_status = \"Unpaid\";\r\n      }\r\n    },\r\n    setImages(data) {\r\n      var images = [];\r\n      data.forEach((image) => {\r\n        images.push({ image: image.image });\r\n      });\r\n      this.billing.payments[0].images = images;\r\n    },\r\n    getPlan(pid) {\r\n      this.$axios\r\n        .get(\"membership/?pid=\" + pid)\r\n        .then((response) => {\r\n          this.billing.selected_plan = response.data;\r\n\r\n          this.packages.forEach((item, index) => {\r\n            item.price =\r\n              this.billing.selected_plan.price -\r\n              this.billing.selected_plan.price * (0.1 * index);\r\n            item.save =\r\n              this.billing.selected_plan.price * item.monthQuantity -\r\n              item.price * item.monthQuantity;\r\n          });\r\n          this.$store.commit(\"setIsReady\", true);\r\n        })\r\n        .catch((err) => {\r\n          this.$noti.display({ message: err, status: \"error\", color: \"error\" });\r\n        });\r\n    },\r\n    getPaymentMethods() {\r\n      this.$axios\r\n        .get(\"payment-methods/\")\r\n        .then((response) => {\r\n          this.paymentMethods = response.data;\r\n        })\r\n        .catch((err) => {\r\n          this.$noti.display({ message: err, status: \"error\", color: \"error\" });\r\n        });\r\n    },\r\n    Post() {\r\n      this.saving = true;\r\n      this.$axios\r\n        .post(\"billing/\", { data: this.billing })\r\n        .then(() => {\r\n          this.saving = false;\r\n          this.$noti.display({\r\n            color: \"success\",\r\n            title: \"Success\",\r\n            message:\r\n              \"Cool! Billing has been successfully submitted. Please wait for approving.\",\r\n          });\r\n          this.$router.push({ name: \"Billing History\" });\r\n        })\r\n        .catch((err) => {\r\n          this.saving = false;\r\n          this.$noti.display({ message: err, status: \"error\", color: \"error\" });\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style >\r\n.billing .el-collapse-item__content {\r\n  padding-top: 0px !important;\r\n  padding-bottom: 10px;\r\n}\r\n.billing .el-collapse-item__header,\r\n.billing .el-collapse-item__wrap,\r\n.billing .el-collapse {\r\n  border: none !important;\r\n}\r\n.package label.vs-radio__label {\r\n  width: 100%;\r\n}\r\n\r\n.package-box {\r\n  border-radius: 4px;\r\n  border: 1px solid rgba(0, 0, 0, 0.05);\r\n  padding: 15px 0px;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./create.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./create.vue?vue&type=template&id=59d28486&\"\nimport script from \"./create.vue?vue&type=script&lang=js&\"\nexport * from \"./create.vue?vue&type=script&lang=js&\"\nimport style0 from \"./create.vue?vue&type=style&index=0&id=59d28486&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}