(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22692a"],{e8de:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[e.isReady?t("div",{staticClass:"col-12 mt-3"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 flex-x-between mb-3"},[t("div",{staticClass:"flex-align-center"},[t("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"no-width flat",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$router.go(-1)}}},[t("i",{staticClass:"bx bx-left-arrow-alt"})]),t("h5",{staticClass:"my-0 ml-2"},[e._v("New "+e._s(e.finance.type))]),"Incomes"==e.finance.type?t("el-tag",{staticClass:"rounded ml-2",attrs:{type:"success"}},[t("i",{staticClass:"bx bx-down-arrow-circle"}),e._v(" "+e._s(e.finance.type))]):e._e(),"Expense"==e.finance.type?t("el-tag",{staticClass:"rounded ml-2",attrs:{type:"danger"}},[t("i",{staticClass:"bx bx-up-arrow-circle"}),e._v(e._s(e.finance.type))]):e._e()],1),t("div",{staticClass:"flex-align-center flex-end"},[t("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"flat",attrs:{type:"primary"},on:{click:function(t){return e.$router.go(-1)}}},[e._v(" Discard ")]),t("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],attrs:{loading:e.saving,type:"primary"},on:{click:e.Post}},[e._v(" Save ")])],1)]),t("div",{staticClass:"col-lg-8"},[t("div",{staticClass:"box"},[t("p",{staticClass:"mt-0 mb-2 text-bold"},[e._v("Details")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("label",{staticClass:"custom-label",attrs:{for:"name"}},[e._v("Note")]),t("el-input",{staticClass:"w-100 mb-3",attrs:{name:"name"},model:{value:e.finance.note,callback:function(t){e.$set(e.finance,"note",t)},expression:"finance.note"}})],1),t("div",{staticClass:"col-lg-6"},[t("label",{staticClass:"custom-label",attrs:{for:"name"}},[e._v("Label")]),t("el-select",{staticClass:"w-100",attrs:{filterable:"",clearable:"","allow-create":"",placeholder:"Label"},model:{value:e.finance.label_name,callback:function(t){e.$set(e.finance,"label_name",t)},expression:"finance.label_name"}},e._l(e.labels,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),t("div",{staticClass:"col-lg-6"},[t("label",{staticClass:"custom-label",attrs:{for:"date"}},[e._v("Date")]),t("el-date-picker",{staticClass:"w-100",attrs:{type:"date",format:"dd/MM/yyyy","value-format":"dd/MM/yyyy",placeholder:"Pick a date"},model:{value:e.finance.date,callback:function(t){e.$set(e.finance,"date",t)},expression:"finance.date"}})],1),t("div",{staticClass:"col-lg-6"},[t("label",{staticClass:"custom-label",attrs:{for:"Phone"}},[e._v("Amount")]),t("el-input",{staticClass:"w-100 mb-3",attrs:{name:"Amount",type:"number"},model:{value:e.finance.amount,callback:function(t){e.$set(e.finance,"amount",t)},expression:"finance.amount"}})],1)])])])])]):e._e()])},i=[],l=(a("14d9"),a("2f62")),n={data(){return{saving:!1,finance:{label_name:"Label name"},loading:null,startEditing:!0,financeBeforeEdit:"",labels:[]}},watch:{finance:{handler:function(e){this.financeBeforeEdit==JSON.stringify(e)?this.startEditing=!1:this.startEditing=!0},deep:!0}},created(){this.finance.type=this.$route.params.type,this.getLabels(),this.$store.commit("setIsReady",!0),this.finance.date=this.$moment().format("DD/MM/YYYY")},beforeMount(){window.addEventListener("beforeunload",this.preventNav),this.$once("hook:beforeDestroy",()=>{window.removeEventListener("beforeunload",this.preventNav)})},beforeRouteLeave(e,t,a){this.startEditing?this.$smalltalk.confirm("Question","Do you really want to leave? you have unsaved changes!").then(()=>{a()}).catch(()=>{a(!1)}):a()},methods:{preventNav(e){this.startEditing&&(e.preventDefault(),e.returnValue="")},getLabels(){var e="labels";this.$axios.get(e).then(e=>{this.labels=e.data}).catch(e=>{this.$noti.display({message:e,status:"error",color:"error"})})},Post(){this.saving=!0,this.$axios.post("finance/",{data:this.finance}).then(()=>{this.saving=!1,this.$noti.display({title:"Success",status:"normal",color:"success",message:"Cool! Finance has been successfully created."}),this.startEditing=!1,this.$router.push("/finance")}).catch(e=>{this.saving=!1,this.$noti.display({message:e,title:"",status:"error",color:"error"})})}},computed:{...Object(l["c"])(["isReady","store"])}},c=n,r=a("2877"),o=Object(r["a"])(c,s,i,!1,null,null,null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-2d22692a.85113b26.js.map