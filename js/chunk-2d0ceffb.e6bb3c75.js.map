{"version":3,"sources":["webpack:///./src/components/screens/setting/media.vue?f0d5","webpack:///src/components/screens/setting/media.vue","webpack:///./src/components/screens/setting/media.vue?bf1f","webpack:///./src/components/screens/setting/media.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","modifiers","attrs","on","$event","$router","go","_v","saving","Post","value","expression","class","activeName","_m","model","media_key","callback","$$v","$set","_e","staticRenderFns","data","storeData","cloud_name","api_key","upload_preset","mediaUrl","appUrl","selected","loading","active","index","lightBoxFiles","computed","watch","file","val","forEach","image","isSelected","$store","commit","store","JSON","parse","fbLink","mounted","files","methods","changeSelect","filter","$smalltalk","setHeight","e","path","style","height","clientWidth","uploadImageToServer","$axios","removeFiles","length","push","id","component"],"mappings":"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","file":"js/chunk-2d0ceffb.e6bb3c75.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isReady)?_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between mt-3\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],staticClass:\"no-width flat\",attrs:{\"type\":\"primary\",\"circle\":\"\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_c('i',{staticClass:\"bx bx-left-arrow-alt\"})]),_c('h5',{staticClass:\"my-0 ml-2\"},[_vm._v(\"Media library\")])],1),_c('div',{staticClass:\"flex-align-center flex-end\"},[_c('el-button',{directives:[{name:\"ripple\",rawName:\"v-ripple.400\",modifiers:{\"400\":true}}],attrs:{\"loading\":_vm.saving,\"type\":\"primary\"},on:{\"click\":_vm.Post}},[_c('i',{staticClass:\"bx bx-save mr-1\"}),_vm._v(\" Save \")])],1)]),_c('div',{staticClass:\"col-12 mt-3\"},[_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"box pb-0\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 flex-x-between\"},[_c('div',{staticClass:\"flex-align-center\"},[_c('p',{staticClass:\"mx-0 table-tab\",class:_vm.activeName === 'setting' && 'active-table-tab',on:{\"click\":function($event){_vm.activeName = 'setting'}}},[_vm._v(\" Setting \")])])]),_vm._m(0),_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 mt-2 mb-3\"},[_c('el-alert',{attrs:{\"title\":\"Warning!\",\"closable\":false,\"type\":\"error\"}},[_c('p',[_vm._v(\" Please do not change anything without the help of developer.\"),_c('br'),_vm._v(\" You can read more about Cloudinary \"),_c('a',{attrs:{\"href\":\"https://cloudinary.com/\",\"target\":\"_blank\"}},[_vm._v(\"here\")]),_vm._v(\". \")])])],1),_c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"custom-label\"},[_vm._v(\"Cloud name\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.media_key.cloud_name),callback:function ($$v) {_vm.$set(_vm.media_key, \"cloud_name\", $$v)},expression:\"media_key.cloud_name\"}}),_c('label',{staticClass:\"custom-label\"},[_vm._v(\"API Key\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.media_key.api_key),callback:function ($$v) {_vm.$set(_vm.media_key, \"api_key\", $$v)},expression:\"media_key.api_key\"}})],1),_c('div',{staticClass:\"col-lg-6\"},[_c('label',{staticClass:\"custom-label\"},[_vm._v(\"Upload presets\")]),_c('el-input',{staticClass:\"w-100 mb-3\",attrs:{\"name\":\"\"},model:{value:(_vm.media_key.upload_preset),callback:function ($$v) {_vm.$set(_vm.media_key, \"upload_preset\", $$v)},expression:\"media_key.upload_preset\"}})],1)])])])])])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"b-divider mb-1 mt-0\"})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"row\" v-if=\"isReady\">\r\n    <div class=\"col-12 flex-x-between mt-3\">\r\n      <div class=\"flex-align-center\">\r\n        <el-button\r\n          v-ripple.400\r\n          type=\"primary\"\r\n          circle\r\n          class=\"no-width flat\"\r\n          @click=\"$router.go(-1)\"\r\n        >\r\n          <i class=\"bx bx-left-arrow-alt\"></i>\r\n        </el-button>\r\n        <h5 class=\"my-0 ml-2\">Media library</h5>\r\n      </div>\r\n\r\n      <div class=\"flex-align-center flex-end\">\r\n        <el-button :loading=\"saving\" v-ripple.400 @click=\"Post\" type=\"primary\">\r\n          <i class=\"bx bx-save mr-1\"></i> Save\r\n        </el-button>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"col-12 mt-3\">\r\n      <div class=\"box pb-0\" v-loading=\"loading\">\r\n        <div class=\"row\">\r\n          <div class=\"col-12 flex-x-between\">\r\n            <div class=\"flex-align-center\">\r\n              <!-- <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'media' && 'active-table-tab'\"\r\n                @click=\"activeName = 'media'\"\r\n              >\r\n                All media\r\n              </p>\r\n              <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'upload' && 'active-table-tab'\"\r\n                @click=\"activeName = 'upload'\"\r\n              >\r\n                Upload\r\n              </p> -->\r\n              <p\r\n                class=\"mx-0 table-tab\"\r\n                :class=\"activeName === 'setting' && 'active-table-tab'\"\r\n                @click=\"activeName = 'setting'\"\r\n              >\r\n                Setting\r\n              </p>\r\n            </div>\r\n            <!-- <p\r\n              class=\"danger hover-underline\"\r\n              v-if=\"selected.length > 0 && activeName == 'media'\"\r\n              @click=\"removeFiles\"\r\n            >\r\n              <i class=\"bx bx-x mr-1\"></i> Delete\r\n            </p> -->\r\n          </div>\r\n          <div class=\"col-12\"><div class=\"b-divider mb-1 mt-0\"></div></div>\r\n          <!-- \r\n          <div class=\"col-12\" v-show=\"activeName == 'media'\">\r\n            <div class=\"row px-3\" v-if=\"files.length > 0\">\r\n              <div\r\n                v-for=\"(data, imageIndex) in files\"\r\n                v-bind:key=\"data.image\"\r\n                class=\"col-2 px-1 mb-3 light-box-img image-box\"\r\n              >\r\n                <i\r\n                  class=\"bx bx-expand-alt pointer\"\r\n                  @click=\"(index = imageIndex), (active = true)\"\r\n                ></i>\r\n                <div\r\n                  @click=\"\r\n                    (data.isSelected = !data.isSelected), changeSelect(data)\r\n                  \"\r\n                  class=\"image-check animated fadeIn\"\r\n                  :style=\"\r\n                    'animation-delay:' +\r\n                    (imageIndex + 1) * 45 +\r\n                    'ms;animation-duration:0.8s;'\r\n                  \"\r\n                >\r\n                  <img\r\n                    v-lazy=\"mediaUrl + data.image\"\r\n                    :class=\"data.isSelected && 'selected'\"\r\n                    style=\"width: 100% !important\"\r\n                    @load=\"setHeight\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div\r\n              v-else\r\n              style=\"height: 65vh\"\r\n              class=\"d-flex align-items-center justify-content-center\"\r\n            >\r\n              <div class=\"d-flex flex-column align-items-center\">\r\n                <el-empty description=\"No data found!\"></el-empty>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-12\" v-show=\"activeName == 'upload'\">\r\n            <div class=\"row px-3\">\r\n              <div\r\n                class=\"col-12 d-flex justify-content-center align-items-center\"\r\n                style=\"height: 65vh\"\r\n              >\r\n                <div\r\n                  class=\"\r\n                    file-uploader\r\n                    d-flex\r\n                    justify-content-center\r\n                    align-items-center\r\n                  \"\r\n                  style=\"width: 70%\"\r\n                >\r\n                  <input\r\n                    type=\"file\"\r\n                    ref=\"fileInput\"\r\n                    class=\"uploader-file-input pointer\"\r\n                    @change=\"onFileChange\"\r\n                    name=\"\"\r\n                  />\r\n                  <div\r\n                    class=\"\r\n                      flex-column\r\n                      d-flex\r\n                      justify-content-center\r\n                      align-items-center\r\n                    \"\r\n                  >\r\n                    <p class=\"gray mb-2\">Drag images here to upload Or</p>\r\n                    <el-button\r\n                      type=\"primary\"\r\n                      v-ripple.400\r\n                      @click=\"$refs.fileInput.click()\"\r\n                      >Add images</el-button\r\n                    >\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div> -->\r\n          <div class=\"col-12\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12 mt-2 mb-3\">\r\n                <el-alert title=\"Warning!\" :closable=\"false\" type=\"error\">\r\n                  <p>\r\n                    Please do not change anything without the help of\r\n                    developer.<br />\r\n                    You can read more about Cloudinary\r\n                    <a href=\"https://cloudinary.com/\" target=\"_blank\">here</a>.\r\n                  </p>\r\n                </el-alert>\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label class=\"custom-label\">Cloud name</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"media_key.cloud_name\"\r\n                />\r\n                <label class=\"custom-label\">API Key</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"media_key.api_key\"\r\n                />\r\n              </div>\r\n              <div class=\"col-lg-6\">\r\n                <label class=\"custom-label\">Upload presets</label>\r\n                <el-input\r\n                  name=\"\"\r\n                  class=\"w-100 mb-3\"\r\n                  v-model=\"media_key.upload_preset\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- <CoolLightBox\r\n      :items=\"lightBoxFiles\"\r\n      :useZoomBar=\"true\"\r\n      :index=\"index\"\r\n      @close=\"index = null\"\r\n    >\r\n    </CoolLightBox> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport { mediaUrl, appUrl } from \"../../../core/constant/data\";\r\n// import imageCompression from \"browser-image-compression\";\r\n// import axios from \"../../../core/axios\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      storeData: {\r\n        cloud_name: \"\",\r\n        api_key: \"\",\r\n        upload_preset: \"\",\r\n      },\r\n      mediaUrl: mediaUrl,\r\n      appUrl: appUrl,\r\n      activeName: \"media\",\r\n      selected: [],\r\n      loading: false,\r\n      active: false,\r\n      index: null,\r\n      lightBoxFiles: [],\r\n      saving: false,\r\n      media_key: {\r\n        cloud_name: \"\",\r\n        api_key: \"\",\r\n        upload_preset: \"\",\r\n      },\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"files\", \"isReady\", \"store\"]),\r\n  },\r\n  watch: {\r\n    file(val) {\r\n      if (val) {\r\n        this.file.forEach((image) => {\r\n          image.isSelected = false;\r\n          this.lightBoxFiles.push(this.mediaUrl + image.image);\r\n        });\r\n        this.$store.commit(\"setIsReady\", true);\r\n      }\r\n    },\r\n    store(val) {\r\n      this.media_key = JSON.parse(val.fbLink);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$store.commit(\"setIsReady\", false);\r\n    if (this.store) {\r\n      this.media_key = JSON.parse(this.store.fbLink);\r\n    }\r\n    this.$store.commit(\"setIsReady\", true);\r\n    if (this.files) {\r\n      this.files.forEach((image) => {\r\n        image.isSelected = false;\r\n        this.lightBoxFiles.push(this.mediaUrl + image.image);\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    changeSelect() {\r\n      this.selected = this.files.filter((image) => {\r\n        return image.isSelected;\r\n      });\r\n    },\r\n    Post() {\r\n      this.$smalltalk\r\n        .confirm(\r\n          \"Question\",\r\n          \"Are you sure you want to update cloudinary detail?\"\r\n        )\r\n        .then(() => {\r\n          this.saving = true;\r\n          var store = this.store;\r\n          store.fbLink = JSON.stringify(this.media_key);\r\n          this.$axios.put(\"store/\", { data: store }).then((response) => {\r\n            this.$store.commit(\"setStore\", response.data);\r\n            this.saving = false;\r\n            this.$noti.display({\r\n              color: \"success\",\r\n              title: \"Success\",\r\n              message: \"Cool! Store has been successfully updated.\",\r\n            });\r\n          });\r\n        });\r\n    },\r\n    setHeight(e) {\r\n      e.path[0].style.height = e.path[0].clientWidth + \"px\";\r\n    },\r\n\r\n    async onFileChange(e) {\r\n      if (!/\\.(jpg|jpeg|png|JPG|PNG)$/.test(e.target.value)) {\r\n        alert(\"The file uploaded need to be -jpeg,jpg,png\");\r\n        return false;\r\n      }\r\n      if (e.target.files[0].size / 1000000 > 1) {\r\n        alert(\"Max image file size is 1MB!\");\r\n        return false;\r\n      }\r\n      this.loading = true;\r\n      var file = e.target.files[0];\r\n      const formData = new FormData();\r\n      formData.append(\"file\", file);\r\n      formData.append(\"upload_preset\", this.media_key.upload_preset);\r\n      formData.append(\"api_key\", this.media_key.api_key);\r\n      formData.append(\"timestamp\", (Date.now() / 1000) | 0);\r\n\r\n      var response = await fetch(\r\n        `https://api.cloudinary.com/v1_1/${this.media_key.cloud_name}/image/upload`,\r\n        {\r\n          method: \"POST\",\r\n          body: formData,\r\n        }\r\n      );\r\n      const img = await response.json();\r\n      this.uploadImageToServer({\r\n        image: img.secure_url,\r\n      });\r\n    },\r\n    uploadImageToServer(img) {\r\n      this.$axios\r\n        .post(\"files/\", { data: img })\r\n        .then(() => {\r\n          this.$store.commit(\"addFile\", [img]);\r\n          this.activeName = \"media\";\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          this.loading = false;\r\n          this.$noti.display({\r\n            message: err,\r\n            status: \"error\",\r\n            color: \"error\",\r\n          });\r\n        });\r\n    },\r\n    removeFiles() {\r\n      if (this.selected.length > 0) {\r\n        this.loading = true;\r\n        var data = [];\r\n        this.selected.forEach((image) => {\r\n          data.push(image.id);\r\n        });\r\n        this.$axios\r\n          .post(\"remove-files/\", { data })\r\n          .then(() => {\r\n            this.$store.commit(\"removeFile\", data);\r\n            this.selected = [];\r\n            this.loading = false;\r\n            this.$noti.display({\r\n              message: \"Cool! File has been successfully deleted.\",\r\n              title: \"success\",\r\n              color: \"success\",\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            this.$noti.display({\r\n              message: err,\r\n              status: \"error\",\r\n              color: \"error\",\r\n            });\r\n            this.loading = false;\r\n          });\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./media.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./media.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./media.vue?vue&type=template&id=3a05d012&scoped=true&\"\nimport script from \"./media.vue?vue&type=script&lang=js&\"\nexport * from \"./media.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a05d012\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}