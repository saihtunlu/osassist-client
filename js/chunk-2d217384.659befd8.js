(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217384"],{c694:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mt-3"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 flex-x-between mb-3"},[i("div",{staticClass:"flex-align-center"},[i("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"no-width my-0 flat",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$router.go(-1)}}},[i("i",{staticClass:"bx bx-left-arrow-alt"})]),i("h5",{staticClass:"my-0 ml-2"},[e._v("Add Delivery")])],1),i("div",{staticClass:"flex-align-center flex-end"})]),i("div",{staticClass:"col-lg-8 col-md-cu-8 pr-lg-0"},[i("div",{staticClass:"box"},[i("div",{staticClass:"flex-x-between"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-12 mb-3"},[i("label",{staticClass:"custom-label",attrs:{for:"Media"}},[e._v("Media")]),i("file",{key:e.delivery.name,attrs:{initialData:e.delivery.image?[{image:e.delivery.image}]:[{}]},on:{completed:e.setImage}})],1),i("div",{staticClass:"col-12 mb-3"},[i("label",{staticClass:"custom-label",attrs:{for:"Name"}},[e._v("Order ID")]),i("el-input",{staticClass:"w-100",attrs:{name:"Name"},model:{value:e.delivery.order_id,callback:function(t){e.$set(e.delivery,"order_id",t)},expression:"delivery.order_id"}})],1),i("div",{staticClass:"col-12 mb-3"},[i("label",{staticClass:"custom-label md-text",attrs:{for:""}},[e._v("Delivery")]),i("el-select",{staticClass:"w-100",attrs:{filterable:"",remote:"","reserve-keyword":"","allow-create":"",placeholder:"Select or create new","remote-method":e.getDeliveries,loading:e.loadingDelivey},model:{value:e.delivery.delivery_name,callback:function(t){e.$set(e.delivery,"delivery_name",t)},expression:"delivery.delivery_name"}},e._l(e.deliveries,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.name}})})),1)],1),i("div",{staticClass:"col-12"},[i("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"my-0 w-100",attrs:{disabled:!e.startEditing,loading:e.saving,type:"primary"},on:{click:e.Post}},[i("i",{staticClass:"bx bx-save mr-1"}),e._v("Save ")])],1)])])])])])])])},s=[],l=i("5530"),r=i("2f62"),n=i("9c83"),o=i("d50a"),d={data:function(){return{url:n["c"],mediaUrl:n["b"],loadingDelivey:!1,delivery:{delivery_name:"",order_id:"",image:"media/default.png"},saving:!1,startEditing:!1,deliveries:[]}},components:{file:o["c"]},watch:{delivery:{handler:function(){this.startEditing=!0},deep:!0}},mounted:function(){var e=this;setTimeout((function(){e.startEditing=!1}),100),this.$store.commit("setIsReady",!0)},beforeMount:function(){var e=this;window.addEventListener("beforeunload",this.preventNav),this.$once("hook:beforeDestroy",(function(){window.removeEventListener("beforeunload",e.preventNav)}))},beforeRouteLeave:function(e,t,i){this.startEditing?this.$smalltalk.confirm("Question","Do you really want to leave? you have unsaved changes!").then((function(){i()})).catch((function(){i(!1)})):i()},methods:{getDeliveries:function(e){var t=this;this.loadingDelivery=!0,""!==e&&e||(e="Null"),this.$axios.get("search-delivery/?query="+e).then((function(e){t.loadingDelivery=!1,t.deliveries=e.data})).catch((function(e){t.loadingDelivery=!1,t.$noti.display({message:e,title:"",status:"error",color:"error"})}))},preventNav:function(e){this.startEditing&&(e.preventDefault(),e.returnValue="")},setImage:function(e){this.delivery.image=e[0].image},Post:function(){var e=this;this.saving=!0,this.store=this.store.id,this.$axios.post("delivery-history/",{data:this.delivery}).then((function(){e.startEditing=!1,e.saving=!1,e.$noti.display({title:"Success",color:"success",message:"Cool! Sale has been successfully added."}),e.delivery={delivery_name:"",order_id:"",image:"media/default.png"}})).catch((function(t){e.saving=!1,e.$noti.display({message:t,title:"",status:"error",color:"error"})}))}},computed:Object(l["a"])({},Object(r["c"])(["isReady","store"]))},c=d,v=i("2877"),u=Object(v["a"])(c,a,s,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d217384.659befd8.js.map