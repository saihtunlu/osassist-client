(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4828"],{"076a":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row"},[e.isReady?t("div",{staticClass:"col-12 mt-3"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-12 flex-x-between mb-3"},[t("div",{staticClass:"flex-align-center"},[t("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"no-width flat",attrs:{type:"primary",circle:""},on:{click:function(t){return e.$router.go(-1)}}},[t("i",{staticClass:"bx bx-left-arrow-alt"})]),t("h5",{staticClass:"my-0 ml-2"},[e._v(e._s(e.delivery.name))])],1),e.startEditing?t("div",{staticClass:"flex-align-center flex-end"},[t("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],staticClass:"flat",attrs:{type:"primary"},on:{click:e.cancelEdit}},[e._v(" Discard ")]),t("el-button",{directives:[{name:"ripple",rawName:"v-ripple.400",modifiers:{400:!0}}],attrs:{disabled:!e.startEditing,loading:e.saving,type:"primary"},on:{click:e.Post}},[e._v(" Save ")])],1):e._e()]),t("div",{staticClass:"col-lg-8"},[t("div",{staticClass:"box"},[t("p",{staticClass:"mt-0 mb-2 text-bold"},[e._v("Details")]),t("label",{staticClass:"custom-label",attrs:{for:"name"}},[e._v("Name")]),t("el-input",{staticClass:"w-100 mb-3",attrs:{name:"name"},model:{value:e.delivery.name,callback:function(t){e.$set(e.delivery,"name",t)},expression:"delivery.name"}}),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("label",{staticClass:"custom-label",attrs:{for:"Address"}},[e._v("Address")]),t("el-input",{staticClass:"w-100 mb-3",attrs:{name:"Address"},model:{value:e.delivery.address,callback:function(t){e.$set(e.delivery,"address",t)},expression:"delivery.address"}})],1),t("div",{staticClass:"col-6"},[t("label",{staticClass:"custom-label",attrs:{for:"Phone"}},[e._v("Phone number")]),t("el-input",{staticClass:"w-100 mb-3",attrs:{name:"Phone",type:"number"},model:{value:e.delivery.telephone,callback:function(t){e.$set(e.delivery,"telephone",t)},expression:"delivery.telephone"}})],1)]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("label",{staticClass:"custom-label",attrs:{for:"Remark"}},[e._v("Remark")]),t("el-input",{staticClass:"w-100",attrs:{name:"Remark",type:"url"},model:{value:e.delivery.Remark,callback:function(t){e.$set(e.delivery,"Remark",t)},expression:"delivery.Remark"}})],1),t("div",{staticClass:"col-6"},[t("label",{staticClass:"custom-label",attrs:{for:"Priority"}},[e._v("Priority")]),t("el-input",{staticClass:"w-100",attrs:{name:"Priority",type:"url"},model:{value:e.delivery.priority,callback:function(t){e.$set(e.delivery,"priority",t)},expression:"delivery.priority"}})],1)])],1),t("div",{staticClass:"box mt-base"},[t("p",{staticClass:"mt-0 mb-2 text-bold"},[e._v("Contact Person")]),t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("label",{staticClass:"custom-label",attrs:{for:"name"}},[e._v("Name")]),t("el-input",{staticClass:"w-100",attrs:{name:"name"},model:{value:e.delivery.contact_person,callback:function(t){e.$set(e.delivery,"contact_person",t)},expression:"delivery.contact_person"}})],1),t("div",{staticClass:"col-6"},[t("label",{staticClass:"custom-label",attrs:{for:"Phone"}},[e._v("Phone number")]),t("el-input",{staticClass:"w-100",attrs:{name:"Phone",type:"number"},model:{value:e.delivery.cp_mobile,callback:function(t){e.$set(e.delivery,"cp_mobile",t)},expression:"delivery.cp_mobile"}})],1)])])])])]):e._e()])},a=[],l=s("2f62"),r={data(){return{saving:!1,delivery:{},loading:null,startEditing:!1,deliveryBeforeEdit:""}},watch:{delivery:{handler:function(e){this.deliveryBeforeEdit==JSON.stringify(e)?this.startEditing=!1:this.startEditing=!0},deep:!0}},created(){this.filterdelivery()},beforeMount(){window.addEventListener("beforeunload",this.preventNav),this.$once("hook:beforeDestroy",()=>{window.removeEventListener("beforeunload",this.preventNav)})},beforeRouteLeave(e,t,s){this.startEditing?this.$smalltalk.confirm("Question","Do you really want to leave? you have unsaved changes!").then(()=>{s()}).catch(()=>{s(!1)}):s()},methods:{preventNav(e){this.startEditing&&(e.preventDefault(),e.returnValue="")},filterdelivery(){this.$store.commit("setIsReady",!1),this.$axios.get("delivery/?delivery_id="+this.$route.params.id).then(e=>{this.delivery=e.data,this.deliveryBeforeEdit=JSON.stringify(e.data),setTimeout(()=>{this.startEditing=!1},10),this.$store.commit("setIsReady",!0)}).catch(e=>{this.$noti.display({message:e,title:"",status:"error",color:"error"})})},cancelEdit(){this.delivery=JSON.parse(this.deliveryBeforeEdit),setTimeout(()=>{this.startEditing=!1},10)},Post(){this.saving=!0,this.$axios.put("delivery/",{data:this.delivery}).then(e=>{this.saving=!1,this.deliveryBeforeEdit=JSON.stringify(e.data),this.delivery=e.data,setTimeout(()=>{this.startEditing=!1},10),this.$noti.display({type:"success",title:"Success",message:"Cool! Delivery has been successfully updated."})}).catch(e=>{this.saving=!1,this.$noti.display({message:e,title:"",status:"error",color:"error"})})}},computed:{...Object(l["c"])(["isReady"])}},o=r,n=s("2877"),d=Object(n["a"])(o,i,a,!1,null,null,null);t["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0a4828.cb2a6ca5.js.map